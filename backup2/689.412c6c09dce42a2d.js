"use strict";(self.webpackChunkflowervalley=self.webpackChunkflowervalley||[]).push([[689],{8689:(ct,O,c)=>{c.d(O,{R:()=>rt,X:()=>st});var f=c(5e3),K=c(9646),M=c(4968),P=c(4986),I=c(4482),T=c(5403),U=c(8421);const m={leading:!0,trailing:!1};var R=c(5963);var Y=c(5577),y=c(4004),v=c(8505),N=c(9300);function F(t,e,o,n){const l=window&&!!window.document&&window.document.documentElement;let i=l&&e?window:o;if(t&&(i=t&&l&&"string"==typeof t?function A(t,e,o){return(o?window.document:e).querySelector(t)}(t,o.nativeElement,n):t,!i))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return i}function S(t){return t&&!t.firstChange}const x={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},B={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"};class X{constructor(e=!0){this.vertical=e,this.propsMap=e?x:B}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}}function J(t){return["Window","global"].some(o=>Object.prototype.toString.call(t).includes(o))}function w(t,e){return t?e.document.documentElement:null}function D(t,e){const o=function $({container:t,isWindow:e,axis:o}){const{offsetHeightKey:n,clientHeightKey:l}=C(o);return H(t,e,n,l)}(e);return e.isWindow?function L(t,e,o){const{axis:n,container:l,isWindow:i}=o,{offsetHeightKey:s,clientHeightKey:r}=C(n),u=t+W(w(i,l),n,i),a=H(e.nativeElement,i,s,r),d=function Z(t,e,o){const n=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[n]+W(t,e,o)}(e.nativeElement,n,i)+a;return{height:t,scrolled:u,totalToScroll:d,isWindow:i}}(o,t,e):function Q(t,e,o){const{axis:n,container:l}=o;return{height:t,scrolled:l[n.scrollTopKey()],totalToScroll:l[n.scrollHeightKey()],isWindow:!1}}(o,0,e)}function C(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function H(t,e,o,n){if(isNaN(t[o])){const l=w(e,t);return l?l[n]:0}return t[o]}function W(t,e,o){const n=e.pageYOffsetKey(),l=e.scrollTopKey(),i=e.offsetTopKey();return isNaN(window.pageYOffset)?w(o,t)[l]:t.ownerDocument?t.ownerDocument.defaultView[n]:t[i]}function q(t,e,o){let n,l;if(t.totalToScroll<=0)return!1;const i=t.isWindow?t.scrolled:t.height+t.scrolled;return o?(n=(t.totalToScroll-i)/t.totalToScroll,l=e.down/10):(n=t.scrolled/(t.scrolled+(t.totalToScroll-i)),l=e.up/10),n<=l}class et{constructor({totalToScroll:e}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=e}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,o){this.updateScrollPosition(e),this.updateTotalToScroll(o)}updateTriggeredFlag(e,o){o?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,o){return o?this.triggered.down===e:this.triggered.up===e}}function ot(t){const{scrollContainer:e,scrollWindow:o,element:n,fromRoot:l}=t,i=function k({windowElement:t,axis:e}){return function G(t,e){const o=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return Object.assign(Object.assign({},t),{container:o})}({axis:e,isWindow:J(t)},t)}({axis:new X(!t.horizontal),windowElement:F(e,o,n,l)}),s=new et({totalToScroll:D(n,i)}),u={up:t.upDistance,down:t.downDistance};return function nt(t){let e=(0,M.R)(t.container,"scroll");return t.throttle&&(e=e.pipe(function z(t,e=P.z,o=m){const n=(0,R.H)(t,e);return function b(t,{leading:e,trailing:o}=m){return(0,I.e)((n,l)=>{let i=!1,s=null,r=null,u=!1;const a=()=>{null==r||r.unsubscribe(),r=null,o&&(E(),u&&l.complete())},d=()=>{r=null,u&&l.complete()},g=h=>r=(0,U.Xf)(t(h)).subscribe(new T.Q(l,a,d)),E=()=>{if(i){i=!1;const h=s;s=null,l.next(h),!u&&g(h)}};n.subscribe(new T.Q(l,h=>{i=!0,s=h,(!r||r.closed)&&(e?E():g(h))},()=>{u=!0,(!(o&&i&&r)||r.closed)&&l.complete()}))})}(()=>n,o)}(t.throttle))),e}({container:i.container,throttle:t.throttle}).pipe((0,Y.z)(()=>(0,K.of)(D(n,i))),(0,y.U)(a=>function lt(t,e,o){const{scrollDown:n,fire:l}=function tt(t,e,o){const n=function _(t,e){return t<e.scrolled}(t,e);return{fire:q(e,o,n),scrollDown:n}}(t,e,o);return{scrollDown:n,fire:l,stats:e}}(s.lastScrollPosition,a,u)),(0,v.b)(({stats:a})=>s.updateScroll(a.scrolled,a.totalToScroll)),(0,N.h)(({fire:a,scrollDown:d,stats:{totalToScroll:g}})=>function j(t,e,o){return!!(t&&e||!o&&e)}(t.alwaysCallback,a,s.isTriggeredScroll(g,d))),(0,v.b)(({scrollDown:a,stats:{totalToScroll:d}})=>{s.updateTriggeredFlag(d,a)}),(0,y.U)(it))}function it(t){const{scrollDown:e,stats:{scrolled:o}}=t;return{type:e?"[NGX_ISE] DOWN":"[NGX_ISE] UP",payload:{currentScrollPosition:o}}}let rt=(()=>{class t{constructor(o,n){this.element=o,this.zone=n,this.scrolled=new f.vpe,this.scrolledUp=new f.vpe,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:o,infiniteScrollDisabled:n,infiniteScrollDistance:l}){const i=S(o),s=S(n),r=S(l),u=!s&&!this.infiniteScrollDisabled||s&&!n.currentValue||r;(i||s||r)&&(this.destroyScroller(),u&&this.setup())}setup(){(function V(){return"undefined"!=typeof window})()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=ot({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(o=>this.zone.run(()=>this.handleOnScroll(o)))})}handleOnScroll({type:o,payload:n}){switch(o){case"[NGX_ISE] DOWN":return this.scrolled.emit(n);case"[NGX_ISE] UP":return this.scrolledUp.emit(n);default:return}}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(o){return new(o||t)(f.Y36(f.SBq),f.Y36(f.R0b))},t.\u0275dir=f.lG2({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[f.TTD]}),t})(),st=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=f.oAB({type:t}),t.\u0275inj=f.cJS({providers:[],imports:[[]]}),t})()}}]);