"use strict";(self.webpackChunkflowervalley=self.webpackChunkflowervalley||[]).push([[992],{7613:(Q,w,l)=>{l.d(w,{F:()=>t});var c=l(3075);function Z(f){!f||(f instanceof c.NI?f.markAsDirty():Object.keys(f.controls).map(F=>{const g=f.get(F);(null==g?void 0:g.invalid)&&(g instanceof c.Oe&&g.controls.map(y=>{Z(y)}),g instanceof c.cw&&Z(g),null==g||g.markAsDirty())}))}function t(f){return!!(null==f?void 0:f.invalid)&&(Z(f),!0)}},1992:(Q,w,l)=>{l.r(w),l.d(w,{StaticDataModule:()=>_e});var c=l(9808),Z=l(2535),t=l(5e3),f=l(3710);let F=(()=>{class u{constructor(){this.items=[{label:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f",icon:"pi pi-home",routerLink:"/admin/static-data",routerLinkActiveOptions:{exact:!0}},{label:"\u0413\u043b\u0430\u0432\u043d\u043e\u0435 \u043c\u0435\u043d\u044e",icon:"pi pi-bars",routerLink:"main-menu"},{label:"\u0428\u0430\u043f\u043a\u0430 \u0438 \u041f\u043e\u0434\u0432\u0430\u043b",icon:"pi pi-align-center",routerLink:"header-and-footer"},{label:"\u0411\u043b\u043e\u043a \u0430\u043d\u0438\u043c\u0430\u0446\u0438\u0438",icon:"pi pi-eye",routerLink:"animation"},{label:"\u041e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0438",icon:"pi pi-info-circle",routerLink:"about"},{label:"\u041f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432\u0430",icon:"pi pi-bolt",routerLink:"advantages"},{label:"\u0411\u043b\u043e\u043a \u0432 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",icon:"pi pi-inbox",routerLink:"product"},{label:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b",icon:"pi pi-phone",routerLink:"contacts"},{label:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430",icon:"pi pi-shopping-cart",routerLink:"cart"},{label:"\u042d\u043a\u0440\u0430\u043d \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",icon:"pi pi-check-circle",routerLink:"download-invoice"},{label:"\u041f\u043e\u043b\u0438\u0442\u0438\u043a\u0430",icon:"pi pi-users",routerLink:"private-policy"},{label:"\u041f\u0440\u043e\u0447\u0435\u0435",icon:"pi pi-sync",routerLink:"other"},{label:"SEO",icon:"pi pi-eye",routerLink:"seo"},{label:"\u0424\u0438\u043b\u0438\u0430\u043b",icon:"pi pi-info-circle",routerLink:"branch"},{label:"\u041f\u0438\u0441\u044c\u043c\u0430",icon:"pi pi-envelope",routerLink:"mails"}]}getMenuItems(e=!1){return e?this.items.slice(1,this.items.length):this.items}}return u.\u0275fac=function(e){return new(e||u)},u.\u0275prov=t.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"}),u})();var g=l(1874);let y=(()=>{class u{constructor(e){this.staticMenuService=e,this.items=[],this.items=e.getMenuItems()}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(F))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-static-menu"]],decls:1,vars:1,consts:[[3,"model"]],template:function(e,o){1&e&&t._UZ(0,"p-menu",0),2&e&&t.Q6J("model",o.items)},directives:[g.v2],styles:[""]}),u})(),P=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-static-data"]],decls:4,vars:0,consts:[["headerTitle","\u0421\u0442\u0430\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"],[1,"flex"],[1,"pr-4"]],template:function(e,o){1&e&&(t.TgZ(0,"flower-valley-container",0)(1,"div",1),t._UZ(2,"flower-valley-static-menu",2)(3,"router-outlet"),t.qZA()())},directives:[f.e,y,Z.lC],styles:[""]}),u})();var N=l(4297),m=l(9783);function O(u,s){if(1&u&&(t._UZ(0,"span"),t.TgZ(1,"span",5),t._uU(2),t.qZA()),2&u){const e=t.oxw().$implicit;t.Tol(e.icon),t.xp6(2),t.hij(" ",e.state&&e.state.fullLabel?e.state.fullLabel:e.label,"")}}function V(u,s){if(1&u&&(t.TgZ(0,"div",2)(1,"p-card",3),t.YNc(2,O,3,3,"ng-template",4),t._uU(3),t.qZA()()),2&u){const e=s.$implicit;t.xp6(1),t.Q6J("routerLink",e.routerLink),t.xp6(2),t.hij(" ",e.state?e.state.description:""," ")}}let Y=(()=>{class u{constructor(e){this.staticMenuService=e,this.items=e.getMenuItems(!0)}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(F))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-main"]],decls:2,vars:1,consts:[[1,"grid"],["class","col-4",4,"ngFor","ngForOf"],[1,"col-4"],["styleClass","panel",3,"routerLink"],["pTemplate","header"],[1,"title"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,V,4,2,"div",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",o.items))},directives:[c.sg,N.Z,Z.rH,m.jx],styles:[".p-card.panel{height:200px}  .p-card.panel:hover{cursor:pointer;outline:2px solid #8FB600}  .p-card.panel .p-card-header{padding-top:1.25rem;padding-left:1.25rem;display:flex;align-items:center;font-size:25px}  .p-card.panel .p-card-header span:first-child{margin-right:10px}  .p-card.panel .p-card-header span:last-child{font-weight:700}  .p-card.panel .p-card-header .pi{font-size:25px}"]}),u})();var r=l(3075),b=l(7613),C=l(5055),v=l(2260),d=l(1424),E=l(6016),x=l(6483),A=l(8850),h=l(845);const L=function(u){return{"editor-danger":u}};let R=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.isLoading=!1,this.aboutForm=e.group({img:["",r.kI.required],title:["",r.kI.required],subTitle:["",r.kI.required],description:["",r.kI.required]})}ngOnInit(){const e=this.staticData.getAboutContent().subscribe(o=>{this.aboutForm.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveAbout(){if(!(0,b.F)(this.aboutForm))if(this.isLoading=!0,this.photo){const e=new FormData,o=this.aboutForm.controls.img.value;e.append("file",this.photo),e.append("removeUrl",o),this.staticData.uploadFile(e).subscribe(n=>{var i;null===(i=this.aboutForm.get("img"))||void 0===i||i.setValue(n),this.saveAboutRequest()})}else this.saveAboutRequest()}saveAboutRequest(){const e=this.aboutForm.getRawValue();this.aboutForm.disable(),this.staticData.setAboutContent(e).subscribe(()=>{this.aboutForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}photoUploaded(e){this.photo=e[0]}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-static-about"]],decls:15,vars:7,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","id","title","pInputText","","formControlName","title"],["for","title"],["type","text","id","subTitle","pInputText","","formControlName","subTitle"],["for","subTitle"],["styleClass","mb-2","formControlName","description","placeholder","\u0422\u0435\u043a\u0441\u0442",3,"ngClass"],["label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",3,"multi","uploaded"],[1,"grid","mt-2"],[1,"img","col-3"],["width","100",3,"src"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveAbout()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(5,"span",1),t._UZ(6,"input",4),t.TgZ(7,"label",5),t._uU(8,"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t._UZ(9,"p-editor",6),t.TgZ(10,"flower-valley-files-upload",7),t.NdJ("uploaded",function(i){return o.photoUploaded(i)}),t.qZA(),t.TgZ(11,"div",8)(12,"div",9),t._UZ(13,"p-image",10),t.qZA()(),t._UZ(14,"p-button",11),t.qZA()),2&e&&(t.Q6J("formGroup",o.aboutForm),t.xp6(9),t.Q6J("ngClass",t.VKq(5,L,o.aboutForm.controls.description.dirty&&o.aboutForm.controls.description.invalid)),t.xp6(1),t.Q6J("multi",!1),t.xp6(3),t.Q6J("src",o.aboutForm.controls.img.value),t.xp6(1),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,r.Fj,d.o,r.JJ,r.u,E.ML,c.mk,x.o,A.E,h.zx],styles:[""]}),u})();var q=l(4128),k=l(3407),H=l(272);function G(u,s){if(1&u&&t._UZ(0,"p-image",26),2&u){const e=t.oxw();t.Q6J("src",e.photos.left)}}function z(u,s){if(1&u&&t._UZ(0,"p-image",26),2&u){const e=t.oxw();t.Q6J("src",e.photos.center)}}function j(u,s){if(1&u&&t._UZ(0,"p-image",26),2&u){const e=t.oxw();t.Q6J("src",e.photos.right)}}let $=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.uploadedPhotos={},this.isLoading=!1,this.advantagesForm=e.group({title:["",r.kI.required],subTitle:["",r.kI.required],leftBlock:e.group({img:[""],title:["",r.kI.required],description:["",r.kI.required]}),centerBlock:e.group({img:[""],title:["",r.kI.required],description:["",r.kI.required]}),rightBlock:e.group({img:[""],title:["",r.kI.required],description:["",r.kI.required]})})}ngOnInit(){const e=this.staticData.getAdvantagesContent().subscribe(o=>{this.advantagesForm.patchValue(o),this.photos={left:o.leftBlock.img,center:o.centerBlock.img,right:o.rightBlock.img},this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveAdvantages(){if(!(0,b.F)(this.advantagesForm))if(this.isLoading=!0,Object.keys(this.uploadedPhotos).length){const e=[],o=[];Object.keys(this.uploadedPhotos).map(n=>{var i,a;const p=this.uploadedPhotos[n];if(p){const _=new FormData,I=null===(a=null===(i=this.advantagesForm.get(n))||void 0===i?void 0:i.get("img"))||void 0===a?void 0:a.value;_.append("file",p),_.append("removeUrl",I),e.push(this.staticData.uploadFile(_)),o.push(n)}}),(0,q.D)(e).subscribe(n=>{var i,a;for(let p=0;p<n.length;p++){const _=n[p];null===(a=null===(i=this.advantagesForm.get(o[p]))||void 0===i?void 0:i.get("img"))||void 0===a||a.setValue(_)}this.saveAdvantagesRequest()})}else this.saveAdvantagesRequest()}saveAdvantagesRequest(){this.advantagesForm.disable();const e=this.advantagesForm.getRawValue();this.staticData.setAdvantagesContent(e).subscribe(()=>{this.advantagesForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}photoUploaded(e,o){this.uploadedPhotos[o]=e[0]}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-static-advantages"]],decls:53,vars:18,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","id","title","pInputText","","formControlName","title"],["for","title"],["type","text","id","subTitle","pInputText","","formControlName","subTitle"],["for","subTitle"],[1,"grid"],["formGroupName","leftBlock",1,"col-4"],["type","text","id","title-leftBlock","pInputText","","formControlName","title"],["for","title-leftBlock"],["type","text","id","description-leftBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["for","description-leftBlock"],["label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",3,"multi","uploaded"],["width","100",3,"src",4,"ngIf"],["formGroupName","centerBlock",1,"col-4"],["type","text","id","title-centerBlock","pInputText","","formControlName","title"],["for","title-centerBlock"],["type","text","id","description-centerBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["for","description-centerBlock"],["formGroupName","rightBlock",1,"col-4"],["type","text","id","title-rightBlock","pInputText","","formControlName","title"],["for","title-rightBlock"],["type","text","id","description-rightBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["for","description-rightBlock"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"],[3,"advantagesData"],["width","100",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveAdvantages()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(5,"span",1),t._UZ(6,"input",4),t.TgZ(7,"label",5),t._uU(8,"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(9,"div",6)(10,"div",7)(11,"h2"),t._uU(12,"\u041b\u0435\u0432\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(13,"span",1),t._UZ(14,"input",8),t.TgZ(15,"label",9),t._uU(16,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(17,"span",1),t._UZ(18,"textarea",10),t.TgZ(19,"label",11),t._uU(20,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()(),t.TgZ(21,"flower-valley-files-upload",12),t.NdJ("uploaded",function(i){return o.photoUploaded(i,"leftBlock")}),t.qZA(),t.YNc(22,G,1,1,"p-image",13),t.qZA(),t.TgZ(23,"div",14)(24,"h2"),t._uU(25,"\u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(26,"span",1),t._UZ(27,"input",15),t.TgZ(28,"label",16),t._uU(29,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(30,"span",1),t._UZ(31,"textarea",17),t.TgZ(32,"label",18),t._uU(33,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()(),t.TgZ(34,"flower-valley-files-upload",12),t.NdJ("uploaded",function(i){return o.photoUploaded(i,"centerBlock")}),t.qZA(),t.YNc(35,z,1,1,"p-image",13),t.qZA(),t.TgZ(36,"div",19)(37,"h2"),t._uU(38,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(39,"span",1),t._UZ(40,"input",20),t.TgZ(41,"label",21),t._uU(42,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(43,"span",1),t._UZ(44,"textarea",22),t.TgZ(45,"label",23),t._uU(46,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()(),t.TgZ(47,"flower-valley-files-upload",12),t.NdJ("uploaded",function(i){return o.photoUploaded(i,"rightBlock")}),t.qZA(),t.YNc(48,j,1,1,"p-image",13),t.qZA()(),t._UZ(49,"p-button",24),t.qZA(),t.TgZ(50,"h2"),t._uU(51,"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),t.qZA(),t._UZ(52,"flower-valley-advantages",25)),2&e&&(t.Q6J("formGroup",o.advantagesForm),t.xp6(18),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(3),t.Q6J("multi",!1),t.xp6(1),t.Q6J("ngIf",o.photos),t.xp6(9),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(3),t.Q6J("multi",!1),t.xp6(1),t.Q6J("ngIf",o.photos),t.xp6(9),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(3),t.Q6J("multi",!1),t.xp6(1),t.Q6J("ngIf",o.photos),t.xp6(1),t.Q6J("loading",o.isLoading),t.xp6(3),t.Q6J("advantagesData",o.advantagesForm.getRawValue()))},directives:[r._Y,r.JL,r.sg,r.Fj,d.o,r.JJ,r.u,r.x0,k.g,x.o,c.O5,A.E,h.zx,H.S],styles:["[_nghost-%COMP%]{width:100%}"]}),u})();function K(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",30),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index,i=t.oxw();return i.deleteArrayControl(i.headerForm,"workTime",n)}),t.qZA()}}function X(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",25)(2,"span",26),t._UZ(3,"input",27),t.TgZ(4,"label",28),t._uU(5,"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b"),t.qZA()(),t.YNc(6,K,1,0,"p-button",29),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","workTime-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","workTime-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function W(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",31),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw();return n.addControlToArray(n.headerForm,"workTime")}),t.qZA()}}function tt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",30),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index,i=t.oxw();return i.deleteArrayControl(i.headerForm,"address",n)}),t.qZA()}}function et(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",25)(2,"span",26),t._UZ(3,"input",27),t.TgZ(4,"label",28),t._uU(5,"\u0410\u0434\u0440\u0435\u0441"),t.qZA()(),t.YNc(6,tt,1,0,"p-button",29),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","address-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","address-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function ot(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",31),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw();return n.addControlToArray(n.headerForm,"address")}),t.qZA()}}function nt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",30),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index,i=t.oxw();return i.deleteArrayControl(i.footerForm,"phones",n)}),t.qZA()}}function ut(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",25)(2,"span",26),t._UZ(3,"input",27),t.TgZ(4,"label",28),t._uU(5,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.qZA()(),t.YNc(6,nt,1,0,"p-button",29),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","phones-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","phones-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function it(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",31),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw();return n.addControlToArray(n.footerForm,"phones")}),t.qZA()}}let rt=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.isHeaderLoading=!1,this.isFooterLoading=!1,this.headerForm=e.group({img:["",r.kI.required],title:["",r.kI.required],subTitle:["",r.kI.required],workTime:e.array([e.control("",r.kI.required)]),address:e.array([e.control("",r.kI.required)]),whatsAppNumber:["",r.kI.required],phone:["",r.kI.required],mail:["",r.kI.required]}),this.footerForm=e.group({roots:["",r.kI.required],phones:e.array([e.control("",r.kI.required)])})}ngOnInit(){const e=[this.staticData.getHeaderContent(),this.staticData.getAdminFooterContent()],o=(0,q.D)(e).subscribe(([n,i])=>{this.patchValue(n,this.headerForm),this.patchValue(i,this.footerForm),this.ls.removeSubscription(o)});this.ls.addSubscription(o)}patchValue(e,o){for(const n in e){const i=e[n];if(i instanceof Array&&i.length>1)for(let a=1;a<i.length;a++)this.addControlToArray(o,n)}o.patchValue(e)}saveHeader(){if(!(0,b.F)(this.headerForm))if(this.isHeaderLoading=!0,this.photo){const e=new FormData,o=this.headerForm.controls.img.value;e.append("file",this.photo),e.append("removeUrl",o),this.staticData.uploadFile(e).subscribe(n=>{this.headerForm.controls.img.setValue(n),this.saveHeaderRequest()})}else this.saveHeaderRequest()}saveHeaderRequest(){const e=this.headerForm.getRawValue();this.headerForm.disable(),this.staticData.setHeaderContent(e).subscribe(()=>{this.headerForm.enable(),this.isHeaderLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}saveFooter(){if((0,b.F)(this.footerForm))return;this.isFooterLoading=!0;const e=this.footerForm.getRawValue();this.footerForm.disable(),this.staticData.setFooterContent(e).subscribe(()=>{this.footerForm.enable(),this.isFooterLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}photoUploaded(e){this.photo=e[0]}getControlArray(e,o){return e.controls[o]}getFormControl(e){return e}addControlToArray(e,o,n){const i=this.fb.control("",r.kI.required);(null==n?void 0:n.length)&&n.map(a=>{i.patchValue(a)}),this.getControlArray(e,o).push(i)}deleteArrayControl(e,o,n){this.getControlArray(e,o).removeAt(n)}isFormArrayValid(e,o){return"VALID"===this.getControlArray(e,o).status}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-header-and-footer"]],decls:47,vars:12,consts:[[3,"formGroup","ngSubmit"],["label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",3,"multi","uploaded"],[1,"grid","mt-2"],[1,"img","col-3"],["width","100",3,"src"],[1,"p-float-label"],["type","text","id","title","pInputText","","formControlName","title"],["for","title"],["type","text","id","subTitle","pInputText","","formControlName","subTitle"],["for","subTitle"],["type","text","id","whatsAppNumber","pInputText","","formControlName","whatsAppNumber"],["for","whatsAppNumber"],["type","text","id","phone","pInputText","","formControlName","phone"],["for","phone"],["type","text","id","mail","pInputText","","formControlName","mail"],["for","mail"],[1,"formArrayBlock"],["formArrayName","workTime"],[4,"ngFor","ngForOf"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","styleClass","mb-2 w-12",3,"onClick",4,"ngIf"],["formArrayName","address"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"],["type","text","id","roots","pInputText","","formControlName","roots"],["for","roots"],["formArrayName","phones"],[1,"flex","align-items-center"],[1,"p-float-label","mr-2"],["type","text","pInputText","",3,"id","formControl"],[3,"for"],["styleClass","mb-2 p-button-danger","icon","pi pi-trash",3,"onClick",4,"ngIf"],["styleClass","mb-2 p-button-danger","icon","pi pi-trash",3,"onClick"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","styleClass","mb-2 w-12",3,"onClick"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveHeader()}),t.TgZ(1,"flower-valley-files-upload",1),t.NdJ("uploaded",function(i){return o.photoUploaded(i)}),t.qZA(),t.TgZ(2,"div",2)(3,"div",3),t._UZ(4,"p-image",4),t.qZA()(),t.TgZ(5,"span",5),t._UZ(6,"input",6),t.TgZ(7,"label",7),t._uU(8,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(9,"span",5),t._UZ(10,"input",8),t.TgZ(11,"label",9),t._uU(12,"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(13,"span",5),t._UZ(14,"input",10),t.TgZ(15,"label",11),t._uU(16,"\u041d\u043e\u043c\u0435\u0440 \u0447\u0430\u0442\u0430 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0435 WhatsApp"),t.qZA()(),t.TgZ(17,"span",5),t._UZ(18,"input",12),t.TgZ(19,"label",13),t._uU(20,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.qZA()(),t.TgZ(21,"span",5),t._UZ(22,"input",14),t.TgZ(23,"label",15),t._uU(24,"\u041f\u043e\u0447\u0442\u0430"),t.qZA()(),t.TgZ(25,"div",16)(26,"div"),t.ynx(27,17),t.YNc(28,X,7,4,"ng-container",18),t.BQk(),t.YNc(29,W,1,0,"p-button",19),t.qZA(),t.TgZ(30,"div"),t.ynx(31,20),t.YNc(32,et,7,4,"ng-container",18),t.BQk(),t.YNc(33,ot,1,0,"p-button",19),t.qZA()(),t._UZ(34,"p-button",21),t.qZA(),t.TgZ(35,"h2"),t._uU(36,"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u0432 Footer"),t.qZA(),t.TgZ(37,"form",0),t.NdJ("ngSubmit",function(){return o.saveFooter()}),t.TgZ(38,"span",5),t._UZ(39,"input",22),t.TgZ(40,"label",23),t._uU(41,"\u041f\u0440\u0430\u0432\u043e\u043e\u0431\u043b\u0430\u0434\u0430\u0442\u0435\u043b\u044c"),t.qZA()(),t.TgZ(42,"div"),t.ynx(43,24),t.YNc(44,ut,7,4,"ng-container",18),t.BQk(),t.YNc(45,it,1,0,"p-button",19),t.qZA(),t._UZ(46,"p-button",21),t.qZA()),2&e&&(t.Q6J("formGroup",o.headerForm),t.xp6(1),t.Q6J("multi",!1),t.xp6(3),t.Q6J("src",o.headerForm.controls.img.value),t.xp6(24),t.Q6J("ngForOf",o.getControlArray(o.headerForm,"workTime").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid(o.headerForm,"workTime")),t.xp6(3),t.Q6J("ngForOf",o.getControlArray(o.headerForm,"address").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid(o.headerForm,"address")),t.xp6(1),t.Q6J("loading",o.isHeaderLoading),t.xp6(3),t.Q6J("formGroup",o.footerForm),t.xp6(7),t.Q6J("ngForOf",o.getControlArray(o.footerForm,"phones").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid(o.footerForm,"phones")),t.xp6(1),t.Q6J("loading",o.isFooterLoading))},directives:[r._Y,r.JL,r.sg,x.o,A.E,r.Fj,d.o,r.JJ,r.u,r.CE,c.sg,r.oH,c.O5,h.zx],styles:["[_nghost-%COMP%]{width:100%}.formArrayBlock[_ngcontent-%COMP%]{display:flex}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-right:5px}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{padding-left:5px}"]}),u})();function st(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",22),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deleteArrayControl("workTime",n)}),t.qZA()}}function at(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",17)(2,"span",18),t._UZ(3,"input",19),t.TgZ(4,"label",20),t._uU(5,"\u0412\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u044b"),t.qZA()(),t.YNc(6,st,1,0,"p-button",21),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","workTime-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","workTime-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function lt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",23),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().addControlToArray("workTime")}),t.qZA()}}function pt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",22),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deleteArrayControl("address",n)}),t.qZA()}}function ct(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",17)(2,"span",18),t._UZ(3,"input",19),t.TgZ(4,"label",20),t._uU(5,"\u0410\u0434\u0440\u0435\u0441"),t.qZA()(),t.YNc(6,pt,1,0,"p-button",21),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","address-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","address-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function mt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",23),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().addControlToArray("address")}),t.qZA()}}function dt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",22),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deleteArrayControl("phones",n)}),t.qZA()}}function ht(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",17)(2,"span",18),t._UZ(3,"input",19),t.TgZ(4,"label",20),t._uU(5,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.qZA()(),t.YNc(6,dt,1,0,"p-button",21),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","phones-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","phones-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function _t(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",23),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().addControlToArray("phones")}),t.qZA()}}function gt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",29),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deletePhoto(n)}),t.qZA()}}function ft(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"div",24),t._UZ(1,"p-image",25),t.TgZ(2,"div",26)(3,"flower-valley-files-upload",27),t.NdJ("uploaded",function(n){const a=t.CHM(e).index;return t.oxw().editPhoto(n,a)}),t.qZA(),t.YNc(4,gt,1,0,"p-button",28),t.qZA()()}if(2&u){const e=s.$implicit,o=s.first;t.xp6(1),t.Q6J("src",e.value),t.xp6(2),t.Q6J("multi",!1)("showOnlyButton",!0),t.xp6(1),t.Q6J("ngIf",!o)}}function bt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"flower-valley-files-upload",30),t.NdJ("uploaded",function(n){return t.CHM(e),t.oxw().addPhoto(n)}),t.qZA()}2&u&&t.Q6J("multi",!0)}let Ct=(()=>{class u{constructor(e,o,n,i,a){this.fb=e,this.ls=o,this.ms=n,this.cs=i,this.staticData=a,this.isLoading=!1,this.contactsForm=e.group({workTime:e.array([e.control("",r.kI.required)]),address:e.array([e.control("",r.kI.required)]),whatsAppNumber:["",r.kI.required],phones:e.array([e.control("",r.kI.required)]),mail:["",r.kI.required],mapImages:e.array([e.control("",r.kI.required)])})}ngOnInit(){const e=this.staticData.getContactsContent().subscribe(o=>{this.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveContacts(){if(this.newPhoto){const e=new FormData;e.append("file",this.newPhoto),this.removedPhoto&&e.append("removeUrl",this.removedPhoto),this.staticData.uploadFile(e).subscribe(o=>{this.addControlToArray("mapImages");const n=this.getControlArray("mapImages").length;this.getControlArray("mapImages").controls[n-1].setValue(o),this.newPhoto=void 0,this.saveContactsRequest()})}else this.saveContactsRequest()}saveContactsRequest(){this.isLoading=!0,this.contactsForm.disable();const e=this.contactsForm.getRawValue();this.staticData.setContactsContent(e).subscribe(()=>{this.contactsForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}patchValue(e){for(const o in e){const n=e[o];if(n instanceof Array&&n.length>1)for(let i=1;i<n.length;i++)this.addControlToArray(o)}this.contactsForm.patchValue(e)}getControlArray(e){return this.contactsForm.controls[e]}getFormControl(e){return e}addControlToArray(e,o){const n=this.fb.control("",r.kI.required);(null==o?void 0:o.length)&&o.map(i=>{n.patchValue(i)}),this.getControlArray(e).push(n)}deleteArrayControl(e,o){this.getControlArray(e).removeAt(o)}isFormArrayValid(e){return"VALID"===this.getControlArray(e).status}addPhoto(e){this.newPhoto=e[0]}editPhoto(e,o){const n=new FormData,i=this.getControlArray("mapImages").controls[o].value;n.append("file",e[0]),n.append("removeUrl",i),this.staticData.uploadFile(n).subscribe(a=>{this.getControlArray("mapImages").controls[o].setValue(a)})}deletePhoto(e){this.cs.confirm({header:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438",message:"\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e?",accept:()=>{this.removedPhoto=this.getControlArray("mapImages").controls[e].value,this.getControlArray("mapImages").removeAt(e)}})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(m.YP),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-contacts"]],decls:28,vars:10,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","id","whatsAppNumber","pInputText","","formControlName","whatsAppNumber"],["for","whatsAppNumber"],["type","text","id","mail","pInputText","","formControlName","mail"],["for","mail"],[1,"formArrayBlock"],["formArrayName","workTime"],[4,"ngFor","ngForOf"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","styleClass","mb-2 w-12",3,"onClick",4,"ngIf"],["formArrayName","address"],["formArrayName","phones"],["formArrayName","mapImages"],[1,"grid","mt-2"],["class","img col-6",4,"ngFor","ngForOf"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e",3,"multi","uploaded",4,"ngIf"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"],[1,"flex","align-items-center"],[1,"p-float-label","mr-2"],["type","text","pInputText","",3,"id","formControl"],[3,"for"],["styleClass","mb-2 p-button-danger","icon","pi pi-trash",3,"onClick",4,"ngIf"],["styleClass","mb-2 p-button-danger","icon","pi pi-trash",3,"onClick"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","styleClass","mb-2 w-12",3,"onClick"],[1,"img","col-6"],["width","100%",3,"src"],[1,"hover"],["label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",3,"multi","showOnlyButton","uploaded"],["styleClass","p-button-danger ml-2","icon","pi pi-trash",3,"onClick",4,"ngIf"],["styleClass","p-button-danger ml-2","icon","pi pi-trash",3,"onClick"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e",3,"multi","uploaded"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveContacts()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u041d\u043e\u043c\u0435\u0440 \u0447\u0430\u0442\u0430 \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0435 WhatsApp"),t.qZA()(),t.TgZ(5,"span",1),t._UZ(6,"input",4),t.TgZ(7,"label",5),t._uU(8,"\u041f\u043e\u0447\u0442\u0430"),t.qZA()(),t.TgZ(9,"div",6)(10,"div"),t.ynx(11,7),t.YNc(12,at,7,4,"ng-container",8),t.BQk(),t.YNc(13,lt,1,0,"p-button",9),t.qZA(),t.TgZ(14,"div"),t.ynx(15,10),t.YNc(16,ct,7,4,"ng-container",8),t.BQk(),t.YNc(17,mt,1,0,"p-button",9),t.qZA()(),t.TgZ(18,"div"),t.ynx(19,11),t.YNc(20,ht,7,4,"ng-container",8),t.BQk(),t.YNc(21,_t,1,0,"p-button",9),t.qZA(),t.TgZ(22,"div"),t.ynx(23,12),t.TgZ(24,"div",13),t.YNc(25,ft,5,4,"div",14),t.qZA(),t.BQk(),t.YNc(26,bt,1,1,"flower-valley-files-upload",15),t.qZA(),t._UZ(27,"p-button",16),t.qZA()),2&e&&(t.Q6J("formGroup",o.contactsForm),t.xp6(12),t.Q6J("ngForOf",o.getControlArray("workTime").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid("workTime")),t.xp6(3),t.Q6J("ngForOf",o.getControlArray("address").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid("address")),t.xp6(3),t.Q6J("ngForOf",o.getControlArray("phones").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid("phones")),t.xp6(4),t.Q6J("ngForOf",o.getControlArray("mapImages").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid("mapImages")&&o.getControlArray("mapImages").length<2),t.xp6(1),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,r.Fj,d.o,r.JJ,r.u,r.CE,c.sg,r.oH,c.O5,h.zx,A.E,x.o],styles:["[_nghost-%COMP%]{width:100%}.formArrayBlock[_ngcontent-%COMP%]{display:flex}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-right:5px}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{padding-left:5px}.img[_ngcontent-%COMP%]{position:relative}.img[_ngcontent-%COMP%]   .hover[_ngcontent-%COMP%]{display:none;position:absolute;justify-content:flex-end;top:0;right:0;width:100%;padding:10px;background:rgba(255,255,255,.5)}.img[_ngcontent-%COMP%]:hover   .hover[_ngcontent-%COMP%]{display:flex}"]}),u})();function vt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",48),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deleteArrayControl("address",n)}),t.qZA()}}function Zt(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",43)(2,"span",44),t._UZ(3,"input",45),t.TgZ(4,"label",46),t._uU(5,"\u0410\u0434\u0440\u0435\u0441"),t.qZA()(),t.YNc(6,vt,1,0,"p-button",47),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","address-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","address-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function Tt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",49),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().addControlToArray("address")}),t.qZA()}}function At(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",48),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deleteArrayControl("phones",n)}),t.qZA()}}function yt(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",43)(2,"span",44),t._UZ(3,"input",45),t.TgZ(4,"label",46),t._uU(5,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),t.qZA()(),t.YNc(6,At,1,0,"p-button",47),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","phones-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","phones-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function xt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",49),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().addControlToArray("phones")}),t.qZA()}}function kt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",48),t.NdJ("onClick",function(){t.CHM(e);const n=t.oxw().index;return t.oxw().deleteArrayControl("mail",n)}),t.qZA()}}function wt(u,s){if(1&u&&(t.ynx(0),t.TgZ(1,"div",43)(2,"span",44),t._UZ(3,"input",45),t.TgZ(4,"label",46),t._uU(5,"\u041f\u043e\u0447\u0442\u0430"),t.qZA()(),t.YNc(6,kt,1,0,"p-button",47),t.qZA(),t.BQk()),2&u){const e=s.$implicit,o=s.index,n=s.first,i=t.oxw();t.xp6(3),t.MGl("id","mail-",o,""),t.Q6J("formControl",i.getFormControl(e)),t.xp6(1),t.MGl("for","mail-",o,""),t.xp6(2),t.Q6J("ngIf",!n)}}function Ft(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"p-button",49),t.NdJ("onClick",function(){return t.CHM(e),t.oxw().addControlToArray("mail")}),t.qZA()}}let Et=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.isLoading=!1,this.cartForm=e.group({minSumTitle:["",r.kI.required],minSumInfo:["",r.kI.required],infoText:["",r.kI.required],address:e.array([e.control("",r.kI.required)]),phones:e.array([e.control("",r.kI.required)]),mail:e.array([e.control("",r.kI.required)]),callText:["",r.kI.required],writeText:["",r.kI.required],boxesTitle:["",r.kI.required],boxesNotice:["",r.kI.required],paymentInfo:["",r.kI.required],bannerTitle:["",r.kI.required],leftBannerBlock:e.group({title:["",r.kI.required],description:["",r.kI.required]}),centerBannerBlock:e.group({title:["",r.kI.required],description:["",r.kI.required]}),rightBannerBlock:e.group({title:["",r.kI.required],description:["",r.kI.required]})})}ngOnInit(){const e=this.staticData.getCartContent().subscribe(o=>{this.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveCart(){if((0,b.F)(this.cartForm))return;this.isLoading=!0,this.cartForm.disable();const e=this.cartForm.getRawValue();this.staticData.setCartContent(e).subscribe(()=>{this.cartForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}patchValue(e){for(const o in e){const n=e[o];if(n instanceof Array&&n.length>1)for(let i=1;i<n.length;i++)this.addControlToArray(o)}this.cartForm.patchValue(e)}getControlArray(e){return this.cartForm.controls[e]}getFormControl(e){return e}addControlToArray(e,o){const n=this.fb.control("",r.kI.required);(null==o?void 0:o.length)&&o.map(i=>{n.patchValue(i)}),this.getControlArray(e).push(n)}deleteArrayControl(e,o){this.getControlArray(e).removeAt(o)}isFormArrayValid(e){return"VALID"===this.getControlArray(e).status}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-cart"]],decls:86,vars:20,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","id","minSumTitle","pInputText","","formControlName","minSumTitle"],["for","minSumTitle"],["type","text","id","minSumInfo","pInputText","","formControlName","minSumInfo"],["for","minSumInfo"],["type","text","id","infoText","pInputText","","formControlName","infoText"],["for","infoText"],["formArrayName","address"],[4,"ngFor","ngForOf"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","styleClass","mb-2 w-12",3,"onClick",4,"ngIf"],["type","text","id","callText","pInputText","","formControlName","callText"],["for","callText"],["type","text","id","writeText","pInputText","","formControlName","writeText"],["for","writeText"],[1,"formArrayBlock"],["formArrayName","phones"],["formArrayName","mail"],["type","text","id","boxesTitle","pInputText","","formControlName","boxesTitle"],["for","boxesTitle"],["type","text","id","boxesNotice","pInputText","","formControlName","boxesNotice"],["for","boxesNotice"],["type","text","id","paymentInfo","pInputTextarea","","formControlName","paymentInfo",3,"rows","cols","autoResize"],["for","paymentInfo"],["type","text","id","bannerTitle","pInputText","","formControlName","bannerTitle"],["for","bannerTitle"],[1,"content-block"],["formGroupName","leftBannerBlock"],["type","text","id","title-leftBlock","pInputText","","formControlName","title"],["for","title-leftBlock"],["type","text","id","description-leftBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["for","description-leftBlock"],["formGroupName","centerBannerBlock"],["type","text","id","title-centerBlock","pInputText","","formControlName","title"],["for","title-centerBlock"],["type","text","id","description-centerBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["for","description-centerBlock"],["formGroupName","rightBannerBlock"],["type","text","id","title-rightBlock","pInputText","","formControlName","title"],["for","title-rightBlock"],["type","text","id","description-rightBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["for","description-rightBlock"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"],[1,"flex","align-items-center"],[1,"p-float-label","mr-2"],["type","text","pInputText","",3,"id","formControl"],[3,"for"],["styleClass","mb-2 p-button-danger","icon","pi pi-trash",3,"onClick",4,"ngIf"],["styleClass","mb-2 p-button-danger","icon","pi pi-trash",3,"onClick"],["label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435","styleClass","mb-2 w-12",3,"onClick"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveCart()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA()(),t.TgZ(5,"span",1),t._UZ(6,"input",4),t.TgZ(7,"label",5),t._uU(8,"\u041f\u043e\u0434\u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u043c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0443\u043c\u043c\u044b \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA()(),t.TgZ(9,"span",1),t._UZ(10,"input",6),t.TgZ(11,"label",7),t._uU(12,"\u0422\u0435\u043a\u0441\u0442 \u043f\u043e\u0434 \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u043e\u0439 \u043f\u0440\u0435\u0434\u0443\u043f\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),t.qZA()(),t.ynx(13,8),t.YNc(14,Zt,7,4,"ng-container",9),t.BQk(),t.YNc(15,Tt,1,0,"p-button",10),t.TgZ(16,"span",1),t._UZ(17,"input",11),t.TgZ(18,"label",12),t._uU(19,"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043a \u0437\u0432\u043e\u043d\u043a\u0443"),t.qZA()(),t.TgZ(20,"span",1),t._UZ(21,"input",13),t.TgZ(22,"label",14),t._uU(23,"\u041f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435 \u043a \u043f\u0438\u0441\u044c\u043c\u0443"),t.qZA()(),t.TgZ(24,"div",15)(25,"div"),t.ynx(26,16),t.YNc(27,yt,7,4,"ng-container",9),t.BQk(),t.YNc(28,xt,1,0,"p-button",10),t.qZA(),t.TgZ(29,"div"),t.ynx(30,17),t.YNc(31,wt,7,4,"ng-container",9),t.BQk(),t.YNc(32,Ft,1,0,"p-button",10),t.qZA()(),t.TgZ(33,"span",1),t._UZ(34,"input",18),t.TgZ(35,"label",19),t._uU(36,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043a\u043e\u0440\u043e\u0431\u043e\u043a"),t.qZA()(),t.TgZ(37,"span",1),t._UZ(38,"input",20),t.TgZ(39,"label",21),t._uU(40,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u0440\u0430\u0441\u0447\u0435\u0442\u0430 \u043a\u043e\u0440\u043e\u0431\u043e\u043a"),t.qZA()(),t.TgZ(41,"span",1),t._UZ(42,"textarea",22),t.TgZ(43,"label",23),t._uU(44,"\u041f\u043e\u0440\u044f\u0434\u043e\u043a \u043e\u043f\u043b\u0430\u0442\u044b"),t.qZA()(),t.TgZ(45,"h2"),t._uU(46,"\u0411\u0430\u043d\u043d\u0435\u0440"),t.qZA(),t.TgZ(47,"span",1),t._UZ(48,"input",24),t.TgZ(49,"label",25),t._uU(50,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a \u0431\u0430\u043d\u043d\u0435\u0440\u0430"),t.qZA()(),t.TgZ(51,"div",26)(52,"div",27)(53,"h4"),t._uU(54,"\u041b\u0435\u0432\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(55,"span",1),t._UZ(56,"input",28),t.TgZ(57,"label",29),t._uU(58,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(59,"span",1),t._UZ(60,"textarea",30),t.TgZ(61,"label",31),t._uU(62,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()()(),t.TgZ(63,"div",32)(64,"h4"),t._uU(65,"\u0426\u0435\u043d\u0442\u0440\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(66,"span",1),t._UZ(67,"input",33),t.TgZ(68,"label",34),t._uU(69,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(70,"span",1),t._UZ(71,"textarea",35),t.TgZ(72,"label",36),t._uU(73,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()()(),t.TgZ(74,"div",37)(75,"h4"),t._uU(76,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(77,"span",1),t._UZ(78,"input",38),t.TgZ(79,"label",39),t._uU(80,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(81,"span",1),t._UZ(82,"textarea",40),t.TgZ(83,"label",41),t._uU(84,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()()()(),t._UZ(85,"p-button",42),t.qZA()),2&e&&(t.Q6J("formGroup",o.cartForm),t.xp6(14),t.Q6J("ngForOf",o.getControlArray("address").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid("address")),t.xp6(12),t.Q6J("ngForOf",o.getControlArray("phones").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid("phones")),t.xp6(3),t.Q6J("ngForOf",o.getControlArray("mail").controls),t.xp6(1),t.Q6J("ngIf",o.isFormArrayValid("mail")),t.xp6(10),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(18),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(11),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(11),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(3),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,r.Fj,d.o,r.JJ,r.u,r.CE,c.sg,r.oH,c.O5,h.zx,k.g,r.x0],styles:["[_nghost-%COMP%]{width:100%}.content-block[_ngcontent-%COMP%]{display:flex}.content-block[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){padding-right:10px;padding-left:10px}.formArrayBlock[_ngcontent-%COMP%]{display:flex}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{flex:1 1}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{padding-right:5px}.formArrayBlock[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{padding-left:5px}"]}),u})();var M=l(7780);let It=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.isLoading=!1,this.variablesForm=e.group({minOrderSum:[null,r.kI.required],moscowDelivery:[null,r.kI.required],deliveryPerKm:[null,r.kI.required],mobileWhatsApp:["",r.kI.required],mobilePhone:["",r.kI.required]})}ngOnInit(){const e=this.staticData.getVariables().subscribe(o=>{this.variablesForm.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveOthers(){if((0,b.F)(this.variablesForm))return;this.variablesForm.disable(),this.isLoading=!0;const e=this.variablesForm.getRawValue();this.staticData.setVariables(e).subscribe(()=>{this.variablesForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-other"]],decls:22,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["inputId","minOrderSum","formControlName","minOrderSum","suffix","\u20bd",3,"min"],["for","minOrderSum"],["inputId","moscowDelivery","formControlName","moscowDelivery","suffix","\u20bd",3,"min"],["for","moscowDelivery"],["inputId","deliveryPerKm","formControlName","deliveryPerKm","suffix","\u20bd",3,"min"],["for","deliveryPerKm"],["type","text","id","mobileWhatsApp","pInputText","","formControlName","mobileWhatsApp"],["for","mobileWhatsApp"],["type","text","id","mobilePhone","pInputText","","formControlName","mobilePhone"],["for","mobilePhone"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveOthers()}),t.TgZ(1,"span",1),t._UZ(2,"p-inputNumber",2),t.TgZ(3,"label",3),t._uU(4,"\u041c\u0438\u043d\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430 \u0437\u0430\u043a\u0430\u0437\u0430 \u0434\u043b\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"),t.qZA()(),t.TgZ(5,"span",1),t._UZ(6,"p-inputNumber",4),t.TgZ(7,"label",5),t._uU(8,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043f\u043e \u041c\u043e\u0441\u043a\u0432\u0435"),t.qZA()(),t.TgZ(9,"span",1),t._UZ(10,"p-inputNumber",6),t.TgZ(11,"label",7),t._uU(12,"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u0437\u0430 \u043a\u043c"),t.qZA()(),t.TgZ(13,"span",1),t._UZ(14,"input",8),t.TgZ(15,"label",9),t._uU(16,"\u041d\u043e\u043c\u0435\u0440 \u0447\u0430\u0442\u0430 \u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0435 WhatsApp"),t.qZA()(),t.TgZ(17,"span",1),t._UZ(18,"input",10),t.TgZ(19,"label",11),t._uU(20,"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u043d\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0439 \u043a\u043d\u043e\u043f\u043a\u0435 \u0432\u044b\u0437\u043e\u0432\u0430"),t.qZA()(),t._UZ(21,"p-button",12),t.qZA()),2&e&&(t.Q6J("formGroup",o.variablesForm),t.xp6(2),t.Q6J("min",1),t.xp6(4),t.Q6J("min",1),t.xp6(4),t.Q6J("min",1),t.xp6(11),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,M.R,r.JJ,r.u,r.Fj,d.o,h.zx],styles:["[_nghost-%COMP%]{width:100%}"]}),u})(),qt=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.isLoading=!1,this.animationForm=e.group({firstNumber:[null,r.kI.required],firstSuffix:["",r.kI.required],firstText:["",r.kI.required],secondNumber:[null,r.kI.required],secondSuffix:["",r.kI.required],secondText:["",r.kI.required],thirdNumber:[null,r.kI.required],thirdSuffix:["",r.kI.required],thirdText:["",r.kI.required],fourthNumber:[null,r.kI.required],fourthSuffix:["",r.kI.required],fourthText:["",r.kI.required]})}ngOnInit(){const e=this.staticData.getAnimations().subscribe(o=>{this.animationForm.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveAnimations(){if((0,b.F)(this.animationForm))return;this.animationForm.disable(),this.isLoading=!0;const e=this.animationForm.getRawValue();this.staticData.setAnimations(e).subscribe(()=>{this.animationForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-animation"]],decls:58,vars:6,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["inputId","firstNumber","formControlName","firstNumber",3,"min"],["for","firstNumber"],["type","text","id","firstSuffix","pInputText","","formControlName","firstSuffix"],["for","firstSuffix"],["type","text","id","firstText","pInputText","","formControlName","firstText"],["for","firstText"],["inputId","secondNumber","formControlName","secondNumber",3,"min"],["for","secondNumber"],["type","text","id","secondSuffix","pInputText","","formControlName","secondSuffix"],["for","secondSuffix"],["type","text","id","secondText","pInputText","","formControlName","secondText"],["for","secondText"],["inputId","thirdNumber","formControlName","thirdNumber",3,"min"],["for","thirdNumber"],["type","text","id","thirdSuffix","pInputText","","formControlName","thirdSuffix"],["for","thirdSuffix"],["type","text","id","thirdText","pInputText","","formControlName","thirdText"],["for","thirdText"],["inputId","fourthNumber","formControlName","fourthNumber",3,"min"],["for","fourthNumber"],["type","text","id","fourthSuffix","pInputText","","formControlName","fourthSuffix"],["for","fourthSuffix"],["type","text","id","fourthText","pInputText","","formControlName","fourthText"],["for","fourthText"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveAnimations()}),t.TgZ(1,"h2"),t._uU(2,"\u041f\u0435\u0440\u0432\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(3,"span",1),t._UZ(4,"p-inputNumber",2),t.TgZ(5,"label",3),t._uU(6,"\u0427\u0438\u0441\u043b\u043e"),t.qZA()(),t.TgZ(7,"span",1),t._UZ(8,"input",4),t.TgZ(9,"label",5),t._uU(10,"\u0421\u0443\u0444\u0444\u0438\u043a\u0441 \u0447\u0438\u0441\u043b\u0430"),t.qZA()(),t.TgZ(11,"span",1),t._UZ(12,"input",6),t.TgZ(13,"label",7),t._uU(14,"\u0422\u0435\u043a\u0441\u0442 \u0431\u043b\u043e\u043a\u0430"),t.qZA()(),t.TgZ(15,"h2"),t._uU(16,"\u0412\u0442\u043e\u0440\u043e\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(17,"span",1),t._UZ(18,"p-inputNumber",8),t.TgZ(19,"label",9),t._uU(20,"\u0427\u0438\u0441\u043b\u043e"),t.qZA()(),t.TgZ(21,"span",1),t._UZ(22,"input",10),t.TgZ(23,"label",11),t._uU(24,"\u0421\u0443\u0444\u0444\u0438\u043a\u0441 \u0447\u0438\u0441\u043b\u0430"),t.qZA()(),t.TgZ(25,"span",1),t._UZ(26,"input",12),t.TgZ(27,"label",13),t._uU(28,"\u0422\u0435\u043a\u0441\u0442 \u0431\u043b\u043e\u043a\u0430"),t.qZA()(),t.TgZ(29,"h2"),t._uU(30,"\u0422\u0440\u0435\u0442\u0438\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(31,"span",1),t._UZ(32,"p-inputNumber",14),t.TgZ(33,"label",15),t._uU(34,"\u0427\u0438\u0441\u043b\u043e"),t.qZA()(),t.TgZ(35,"span",1),t._UZ(36,"input",16),t.TgZ(37,"label",17),t._uU(38,"\u0421\u0443\u0444\u0444\u0438\u043a\u0441 \u0447\u0438\u0441\u043b\u0430"),t.qZA()(),t.TgZ(39,"span",1),t._UZ(40,"input",18),t.TgZ(41,"label",19),t._uU(42,"\u0422\u0435\u043a\u0441\u0442 \u0431\u043b\u043e\u043a\u0430"),t.qZA()(),t.TgZ(43,"h2"),t._uU(44,"\u0427\u0435\u0442\u0432\u0435\u0440\u0442\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(45,"span",1),t._UZ(46,"p-inputNumber",20),t.TgZ(47,"label",21),t._uU(48,"\u0427\u0438\u0441\u043b\u043e"),t.qZA()(),t.TgZ(49,"span",1),t._UZ(50,"input",22),t.TgZ(51,"label",23),t._uU(52,"\u0421\u0443\u0444\u0444\u0438\u043a\u0441 \u0447\u0438\u0441\u043b\u0430"),t.qZA()(),t.TgZ(53,"span",1),t._UZ(54,"input",24),t.TgZ(55,"label",25),t._uU(56,"\u0422\u0435\u043a\u0441\u0442 \u0431\u043b\u043e\u043a\u0430"),t.qZA()(),t._UZ(57,"p-button",26),t.qZA()),2&e&&(t.Q6J("formGroup",o.animationForm),t.xp6(4),t.Q6J("min",1),t.xp6(14),t.Q6J("min",1),t.xp6(14),t.Q6J("min",1),t.xp6(14),t.Q6J("min",1),t.xp6(11),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,M.R,r.JJ,r.u,r.Fj,d.o,h.zx],styles:["[_nghost-%COMP%]{width:100%}"]}),u})();var Ut=l(995);function Bt(u,s){if(1&u&&t._UZ(0,"p-image",17),2&u){const e=t.oxw();t.Q6J("src",e.photos.left)}}function Nt(u,s){if(1&u&&t._UZ(0,"p-image",17),2&u){const e=t.oxw();t.Q6J("src",e.photos.left)}}let Mt=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.staticData=o,this.ms=n,this.ls=i,this.uploadedPhotos={},this.isLoading=!1,this.productGroup=e.group({title:["",r.kI.required],leftBlock:e.group({img:[""],title:["",r.kI.required],description:["",r.kI.required]}),rightBlock:e.group({img:[""],title:["",r.kI.required],description:["",r.kI.required]})})}ngOnInit(){const e=this.staticData.getProductBlockContent().subscribe(o=>{var n,i;this.productGroup.patchValue(o),this.photos={left:null===(n=o.leftBlock)||void 0===n?void 0:n.img,right:null===(i=o.rightBlock)||void 0===i?void 0:i.img},this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveProductBlock(){if(!(0,b.F)(this.productGroup))if(this.isLoading=!0,Object.keys(this.uploadedPhotos).length){const e=[],o=[];Object.keys(this.uploadedPhotos).map(n=>{var i,a;const p=this.uploadedPhotos[n];if(p){const _=new FormData,I=null===(a=null===(i=this.productGroup.get(n))||void 0===i?void 0:i.get("img"))||void 0===a?void 0:a.value;_.append("file",p),_.append("removeUrl",I),e.push(this.staticData.uploadFile(_)),o.push(n)}}),(0,q.D)(e).subscribe(n=>{var i,a;for(let p=0;p<n.length;p++){const _=n[p];null===(a=null===(i=this.productGroup.get(o[p]))||void 0===i?void 0:i.get("img"))||void 0===a||a.setValue(_)}this.saveProductBlockRequest()})}else this.saveProductBlockRequest()}saveProductBlockRequest(){this.productGroup.disable();const e=this.productGroup.getRawValue();this.staticData.setProductBlockContent(e).subscribe(()=>{this.productGroup.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}photoUploaded(e,o){this.uploadedPhotos[o]=e[0]}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(v.v),t.Y36(m.ez),t.Y36(C.b))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-product"]],decls:36,vars:14,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","id","title","pInputText","","formControlName","title"],["for","title"],[1,"grid"],["formGroupName","leftBlock",1,"col-6"],["type","text","id","title-leftBlock","pInputText","","formControlName","title"],["for","title-leftBlock"],["type","text","id","description-leftBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["for","description-leftBlock"],["label","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",3,"multi","uploaded"],["width","100",3,"src",4,"ngIf"],["formGroupName","rightBlock",1,"col-6"],["type","text","id","title-rightBlock","pInputText","","formControlName","title"],["type","text","id","description-rightBlock","pInputTextarea","","formControlName","description",3,"rows","cols","autoResize"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"],[3,"delivery","isAdmin"],["width","100",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveProductBlock()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(5,"div",4)(6,"div",5)(7,"h2"),t._uU(8,"\u041b\u0435\u0432\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(9,"span",1),t._UZ(10,"input",6),t.TgZ(11,"label",7),t._uU(12,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(13,"span",1),t._UZ(14,"textarea",8),t.TgZ(15,"label",9),t._uU(16,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()(),t.TgZ(17,"flower-valley-files-upload",10),t.NdJ("uploaded",function(i){return o.photoUploaded(i,"leftBlock")}),t.qZA(),t.YNc(18,Bt,1,1,"p-image",11),t.qZA(),t.TgZ(19,"div",12)(20,"h2"),t._uU(21,"\u041f\u0440\u0430\u0432\u044b\u0439 \u0431\u043b\u043e\u043a"),t.qZA(),t.TgZ(22,"span",1),t._UZ(23,"input",13),t.TgZ(24,"label",7),t._uU(25,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(26,"span",1),t._UZ(27,"textarea",14),t.TgZ(28,"label",9),t._uU(29,"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),t.qZA()(),t.TgZ(30,"flower-valley-files-upload",10),t.NdJ("uploaded",function(i){return o.photoUploaded(i,"rightBlock")}),t.qZA(),t.YNc(31,Nt,1,1,"p-image",11),t.qZA()(),t._UZ(32,"p-button",15),t.qZA(),t.TgZ(33,"h2"),t._uU(34,"\u041f\u0440\u0435\u0434\u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"),t.qZA(),t._UZ(35,"flower-valley-delivery",16)),2&e&&(t.Q6J("formGroup",o.productGroup),t.xp6(14),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(3),t.Q6J("multi",!1),t.xp6(1),t.Q6J("ngIf",o.photos),t.xp6(9),t.Q6J("rows",7)("cols",30)("autoResize",!0),t.xp6(3),t.Q6J("multi",!1),t.xp6(1),t.Q6J("ngIf",o.photos),t.xp6(1),t.Q6J("loading",o.isLoading),t.xp6(3),t.Q6J("delivery",o.productGroup.getRawValue())("isAdmin",!0))},directives:[r._Y,r.JL,r.sg,r.Fj,d.o,r.JJ,r.u,r.x0,k.g,x.o,c.O5,A.E,h.zx,Ut.D],styles:[""]}),u})();const Jt=function(u){return{"editor-danger":u}};let Dt=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.isLoading=!1,this.policyForm=e.group({title:[null],text:[null]})}ngOnInit(){const e=this.staticData.getPrivatePolicyContent().subscribe(o=>{this.policyForm.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}savePolicy(){if((0,b.F)(this.policyForm))return;this.isLoading=!0;const e=this.policyForm.getRawValue();this.policyForm.disable(),this.staticData.setPrivatePolicyContent(e).subscribe(()=>{this.policyForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-private-policy"]],decls:7,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","id","title","pInputText","","formControlName","title"],["for","title"],["styleClass","mb-2","formControlName","text","placeholder","\u0422\u0435\u043a\u0441\u0442",3,"ngClass"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.savePolicy()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t._UZ(5,"p-editor",4)(6,"p-button",5),t.qZA()),2&e&&(t.Q6J("formGroup",o.policyForm),t.xp6(5),t.Q6J("ngClass",t.VKq(3,Jt,o.policyForm.controls.text.dirty&&o.policyForm.controls.text.invalid)),t.xp6(1),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,r.Fj,d.o,r.JJ,r.u,E.ML,c.mk,h.zx],styles:[""]}),u})();var St=l(135),J=l(4389),Qt=l(8563),Pt=l(8554),Ot=l(6265),T=l(4255),D=l(2145);function Vt(u,s){1&u&&(t.TgZ(0,"tr")(1,"th"),t._uU(2,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA(),t.TgZ(3,"th"),t._uU(4,"\u0421\u0441\u044b\u043b\u043a\u0430"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),t.qZA()())}function Yt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"span",12)(1,"input",13),t.NdJ("ngModelChange",function(n){return t.CHM(e),t.oxw().$implicit.title=n}),t.qZA(),t.TgZ(2,"label",14),t._uU(3,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"),t.qZA()()}if(2&u){const e=t.oxw(),o=e.rowIndex,n=e.$implicit;t.xp6(1),t.Q6J("id","title_"+o)("ngModel",n.title)}}function Lt(u,s){if(1&u&&(t.TgZ(0,"span"),t._uU(1),t.qZA()),2&u){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.title," ")}}function Rt(u,s){1&u&&t._uU(0),2&u&&t.hij(" ",s.$implicit.title," ")}function Ht(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"span",12)(1,"p-autoComplete",15),t.NdJ("onSelect",function(n){t.CHM(e);const i=t.oxw().$implicit;return t.oxw().menuItemSelected(n,i)})("completeMethod",function(n){return t.CHM(e),t.oxw(2).searchItem(n.query)}),t.YNc(2,Rt,1,1,"ng-template",16),t.qZA(),t.TgZ(3,"label",17),t._uU(4,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044d\u043b\u0435\u043c\u0435\u043d\u0442"),t.qZA()()}if(2&u){const e=t.oxw(2);t.xp6(1),t.Q6J("suggestions",e.filteredItems)("showEmptyMessage",!0)("dropdown",!0)}}function Gt(u,s){if(1&u&&(t.TgZ(0,"a",18),t._uU(1),t.qZA()),2&u){const e=t.oxw().$implicit,o=t.oxw();t.s9C("routerLink",o.getLink(e.link)),t.Q6J("fragment",o.getFragment(e.link)),t.xp6(1),t.Oqu(e.title)}}function zt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().onRowEditInit(n)}),t.qZA()}}function jt(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"button",20),t.NdJ("click",function(){t.CHM(e);const n=t.oxw().$implicit;return t.oxw().onRowEditSave(n)}),t.qZA()}}function $t(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"button",21),t.NdJ("click",function(){t.CHM(e);const n=t.oxw(),i=n.$implicit,a=n.rowIndex;return t.oxw().onRowEditCancel(i,a)}),t.qZA()}}function Kt(u,s){if(1&u&&(t.TgZ(0,"tr",4)(1,"td")(2,"p-cellEditor"),t.YNc(3,Yt,4,2,"ng-template",5),t.YNc(4,Lt,2,1,"ng-template",6),t.qZA()(),t.TgZ(5,"td")(6,"p-cellEditor"),t.YNc(7,Ht,5,3,"ng-template",5),t.YNc(8,Gt,2,3,"ng-template",6),t.qZA()(),t.TgZ(9,"td")(10,"div")(11,"div",7),t.YNc(12,zt,1,0,"button",8),t.YNc(13,jt,1,0,"button",9),t.YNc(14,$t,1,0,"button",10),t._UZ(15,"span",11),t.qZA()()()()),2&u){const o=s.editing,n=s.rowIndex;t.Q6J("pEditableRow",s.$implicit)("pReorderableRow",n),t.xp6(12),t.Q6J("ngIf",!o),t.xp6(1),t.Q6J("ngIf",o),t.xp6(1),t.Q6J("ngIf",o),t.xp6(1),t.Q6J("pReorderableRowHandle",n)}}let Xt=(()=>{class u{constructor(e,o,n){this.catalogService=e,this.menuService=o,this.menuUpdateService=n,this.menu=[],this.staticMenu=St._G,this.isLoading=!1,this.isSaving=!1,this.filteredItems=[],this.clonedItems={}}ngOnInit(){this.catalogService.getItems().subscribe(e=>{this.staticMenu=this.staticMenu.concat(e.map(o=>({title:o.name,link:this.getCategoryLink(o)})))}),this.isLoading=!0,this.menuService.getMenuItems().subscribe(e=>{this.menu=e,this.isLoading=!1})}getCategoryLink(e){return e.isTulip?"/catalog/tulips":`/catalog/${(0,J.slugify)(e.name)}`}getLink(e){return e.split("#")[0]}getFragment(e){return e.split("#")[1]}onRowEditInit(e){this.clonedItems[e.id]=Object.assign({},e)}onRowEditSave(e){delete this.clonedItems[e.id]}onRowEditCancel(e,o){this.menu[o]=this.clonedItems[e.id],delete this.clonedItems[e.id]}saveMenu(){this.isSaving=!0,this.isLoading=!0;const e=this.menu.map(o=>({title:o.title,link:o.link}));this.menuService.saveMenuItems(e).subscribe(o=>{this.menu=o,this.menuUpdateService.update(this.menu),this.isLoading=!1,this.isSaving=!1})}menuItemSelected(e,o){o.title=e.title,o.link=e.link}searchItem(e){this.filteredItems=this.staticMenu.filter(o=>o.title.includes(e))}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(Qt.a),t.Y36(Pt.j),t.Y36(Ot.p))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-main-menu"]],decls:4,vars:3,consts:[["dataKey","id","editMode","row",3,"value","loading"],["pTemplate","header"],["pTemplate","body"],["styleClass","mt-4","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading","onClick"],[3,"pEditableRow","pReorderableRow"],["pTemplate","input"],["pTemplate","output"],[1,"edit"],["pButton","","type","button","pInitEditableRow","","icon","pi pi-pencil ","class","p-button-rounded p-button-text p-button-success",3,"click",4,"ngIf"],["pButton","","type","button","pSaveEditableRow","","icon","pi pi-check","class","p-button-rounded p-button-text p-button-success p-mr-2",3,"click",4,"ngIf"],["pButton","","type","button","pCancelEditableRow","","icon","pi pi-times","class","p-button-rounded p-button-text p-button-danger",3,"click",4,"ngIf"],[1,"pi","pi-bars",3,"pReorderableRowHandle"],[1,"p-float-label"],["type","text","pInputText","",3,"id","ngModel","ngModelChange"],["for","title"],["styleClass","w-12","emptyMessage","\u0421\u043e\u0432\u043f\u0430\u0434\u0435\u043d\u0438\u0439 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e","field","title","inputId","linkInput",3,"suggestions","showEmptyMessage","dropdown","onSelect","completeMethod"],["pTemplate","item"],["for","linkInput"],[3,"routerLink","fragment"],["pButton","","type","button","pInitEditableRow","","icon","pi pi-pencil ",1,"p-button-rounded","p-button-text","p-button-success",3,"click"],["pButton","","type","button","pSaveEditableRow","","icon","pi pi-check",1,"p-button-rounded","p-button-text","p-button-success","p-mr-2",3,"click"],["pButton","","type","button","pCancelEditableRow","","icon","pi pi-times",1,"p-button-rounded","p-button-text","p-button-danger",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"p-table",0),t.YNc(1,Vt,7,0,"ng-template",1),t.YNc(2,Kt,16,6,"ng-template",2),t.qZA(),t.TgZ(3,"p-button",3),t.NdJ("onClick",function(){return o.saveMenu()}),t.qZA()),2&e&&(t.Q6J("value",o.menu)("loading",o.isLoading),t.xp6(3),t.Q6J("loading",o.isSaving))},directives:[T.iA,m.jx,T.D$,T.qO,T.YL,r.Fj,d.o,r.JJ,r.On,D.Qc,Z.yS,c.O5,h.Hq,T.Pv,T.U1,T.wT,T.Mv,h.zx],styles:["[_nghost-%COMP%]{width:100%}  .edit{display:flex;align-items:center}  .edit>span{margin-left:10px}"]}),u})(),Wt=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.ls=o,this.ms=n,this.staticData=i,this.isLoading=!1,this.dataForm=e.group({title:["",r.kI.required],text:["",r.kI.required]})}ngOnInit(){const e=this.staticData.getDownloadInvoiceContent().subscribe(o=>{this.dataForm.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveOthers(){if((0,b.F)(this.dataForm))return;this.dataForm.disable(),this.isLoading=!0;const e=this.dataForm.getRawValue();this.staticData.setDownloadInvoiceContent(e).subscribe(()=>{this.dataForm.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(C.b),t.Y36(m.ez),t.Y36(v.v))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-download-invoice"]],decls:10,vars:2,consts:[[3,"formGroup","ngSubmit"],[1,"p-float-label"],["type","text","id","title","pInputText","","formControlName","title"],["for","title"],["type","text","id","text","rows","3","pInputTextarea","","formControlName","text",2,"resize","none"],["for","text"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveOthers()}),t.TgZ(1,"span",1),t._UZ(2,"input",2),t.TgZ(3,"label",3),t._uU(4,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"),t.qZA()(),t.TgZ(5,"span",1),t._UZ(6,"textarea",4),t.TgZ(7,"label",5),t._uU(8,"\u0422\u0435\u043a\u0441\u0442"),t.qZA()(),t._UZ(9,"p-button",6),t.qZA()),2&e&&(t.Q6J("formGroup",o.dataForm),t.xp6(9),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,r.Fj,d.o,r.JJ,r.u,k.g,h.zx],styles:["[_nghost-%COMP%]{width:100%}"]}),u})(),te=(()=>{class u{constructor(e,o,n,i){this.fb=e,this.staticData=o,this.ls=n,this.ms=i,this.isLoading=!1,this.mailGroup=e.group({signature:e.control("",[r.kI.required]),individualText:e.control("",[r.kI.required]),businessText:e.control("",[r.kI.required]),businessNotificationText:e.control("",[r.kI.required])})}ngOnInit(){const e=this.staticData.getMailTexts().subscribe(o=>{this.mailGroup.patchValue(o),this.ls.removeSubscription(e)});this.ls.addSubscription(e)}saveForm(){if((0,b.F)(this.mailGroup))return;this.mailGroup.disable(),this.isLoading=!0;const e=this.mailGroup.getRawValue();e.signature=e.signature.replaceAll("<p>",""),e.signature=e.signature.replaceAll("</p>","<br/>"),this.staticData.setMailsTexts(e).subscribe(()=>{this.mailGroup.enable(),this.isLoading=!1,this.ms.add({severity:"success",summary:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d",detail:"\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u044b"})})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(r.qu),t.Y36(v.v),t.Y36(C.b),t.Y36(m.ez))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-mails"]],decls:14,vars:2,consts:[[3,"formGroup","ngSubmit"],["styleClass","mb-2","formControlName","individualText"],["styleClass","mb-2","formControlName","businessText"],["styleClass","mb-2","formControlName","businessNotificationText"],["styleClass","mb-2","formControlName","signature"],["type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",3,"loading"]],template:function(e,o){1&e&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return o.saveForm()}),t.TgZ(1,"h2"),t._uU(2,"\u0422\u0435\u043a\u0441\u0442 \u0444\u0438\u0437. \u043b\u0438\u0446\u043e"),t.qZA(),t._UZ(3,"p-editor",1),t.TgZ(4,"h2"),t._uU(5,"\u0422\u0435\u043a\u0441\u0442 \u044e\u0440. \u043b\u0438\u0446\u043e"),t.qZA(),t._UZ(6,"p-editor",2),t.TgZ(7,"h2"),t._uU(8,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e\u0431 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0437\u0430\u043a\u0430\u0437\u0430 \u044e\u0440. \u043b\u0438\u0446\u043e"),t.qZA(),t._UZ(9,"p-editor",3),t.TgZ(10,"h2"),t._uU(11,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c"),t.qZA(),t._UZ(12,"p-editor",4)(13,"p-button",5),t.qZA()),2&e&&(t.Q6J("formGroup",o.mailGroup),t.xp6(13),t.Q6J("loading",o.isLoading))},directives:[r._Y,r.JL,r.sg,E.ML,r.JJ,r.u,h.zx],styles:["[_nghost-%COMP%]{width:100%}"]}),u})();var S=l(520);const U=function(){return{standalone:!0}};function oe(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"div")(1,"table")(2,"tr")(3,"td"),t._uU(4," \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: "),t.TgZ(5,"input",8),t.NdJ("ngModelChange",function(n){return t.CHM(e).$implicit.sortOrder=n})("blur",function(){const i=t.CHM(e).$implicit;return t.oxw().updateVidSort(i.id,i.sortOrder,"bra_cont")}),t.qZA(),t._UZ(6,"br"),t.qZA(),t.TgZ(7,"td"),t._UZ(8,"img",9)(9,"br"),t._uU(10),t.qZA(),t.TgZ(11,"td")(12,"span",10),t.NdJ("click",function(){const n=t.CHM(e),i=n.index,a=n.$implicit;return t.oxw().deleteVid(i,a.id,"bra_cont")}),t.TgZ(13,"font",11)(14,"b"),t._uU(15,"X"),t.qZA()()()()()()()}if(2&u){const e=s.$implicit;t.xp6(5),t.Q6J("ngModel",e.sortOrder)("ngModelOptions",t.DdM(4,U)),t.xp6(3),t.s9C("src",e.img,t.LSH),t.xp6(2),t.hij("",e.name," ")}}function ne(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"div")(1,"table")(2,"tr")(3,"td"),t._uU(4," \u0421\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u043a\u0430: "),t.TgZ(5,"input",8),t.NdJ("ngModelChange",function(n){return t.CHM(e).$implicit.sortOrder=n})("blur",function(){const i=t.CHM(e).$implicit;return t.oxw().updateVidSort(i.id,i.sortOrder,"bra_cont_vid")}),t.qZA(),t._UZ(6,"br"),t._uU(7," \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435:"),t._UZ(8,"br"),t.TgZ(9,"input",12),t.NdJ("ngModelChange",function(n){return t.CHM(e).$implicit.title=n})("blur",function(){const i=t.CHM(e).$implicit;return t.oxw().updateVidTitl(i.id,i.title,"bra_cont_vid")}),t.qZA(),t._UZ(10,"br"),t.qZA(),t.TgZ(11,"td")(12,"video",13),t._UZ(13,"source",14),t._uU(14," Your browser does not support the video tag. "),t.qZA()(),t.TgZ(15,"td")(16,"span",10),t.NdJ("click",function(){const n=t.CHM(e),i=n.index,a=n.$implicit;return t.oxw().deleteVid(i,a.id,"bra_cont_vid")}),t.TgZ(17,"font",11)(18,"b"),t._uU(19,"X"),t.qZA()()()()()()()}if(2&u){const e=s.$implicit;t.xp6(5),t.Q6J("ngModel",e.sortOrder)("ngModelOptions",t.DdM(5,U)),t.xp6(4),t.Q6J("ngModel",e.title)("ngModelOptions",t.DdM(6,U)),t.xp6(4),t.s9C("src",e.src,t.LSH)}}const ue=[{path:"",component:P,children:[{path:"",component:Y},{path:"main-menu",component:Xt},{path:"header-and-footer",component:rt},{path:"animation",component:qt},{path:"about",component:R},{path:"advantages",component:$},{path:"product",component:Mt},{path:"contacts",component:Ct},{path:"cart",component:Et},{path:"download-invoice",component:Wt},{path:"other",component:It},{path:"private-policy",component:Dt},{path:"seo",component:(()=>{class u{constructor(e){this.http=e,this.listUsers=[],this.str="",this.str2="",this.str3="",this.str4="",this.str5="",this.variablesForm=new r.cw({url:new r.NI(null),tit:new r.NI(null),keyw:new r.NI(null),desc:new r.NI(null)}),this.h1Form=new r.cw({urlh:new r.NI(null),h1:new r.NI(null)}),this.contForm=new r.cw({tulp:new r.NI,rass:new r.NI}),this.roboForm=new r.cw({robo:new r.NI}),this.mapForm=new r.cw({})}ngOnInit(){this.http.get("https://flowervalley.ru/back/seo_api.php?tscont=/seedlings").subscribe(e=>{var o;null===(o=this.contForm.get("rass"))||void 0===o||o.setValue(e.cont)}),this.http.get("https://flowervalley.ru/back/seo_api.php?tscont=/tulips").subscribe(e=>{var o;null===(o=this.contForm.get("tulp"))||void 0===o||o.setValue(e.cont)}),this.http.get("https://flowervalley.ru/back/seo_api.php?grobo=1").subscribe(e=>{var o;null===(o=this.roboForm.get("robo"))||void 0===o||o.setValue(decodeURIComponent(e.res))})}saveOthers(e){this.http.post("https://flowervalley.ru/back/seo_api.php",{url:e.url,tit:e.tit,keyw:e.keyw,desc:e.desc}).subscribe(o=>{console.log(o),this.str="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b"})}saveh1(e){this.http.post("https://flowervalley.ru/back/seo_api.php",{urlh:e.urlh,h1:e.h1}).subscribe(o=>{this.str2="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b"})}savecont(e){this.http.post("https://flowervalley.ru/back/seo_api.php",{tulp:e.tulp,rass:e.rass}).subscribe(o=>{this.str3="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b"})}saverobo(e){this.http.post("https://flowervalley.ru/back/seo_api.php",{robo:e.robo}).subscribe(o=>{this.str4="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b"})}savemap(e){this.http.get("https://flowervalley.ru/back/category/list").subscribe(o=>{for(const n in o)this.listUsers.push(1==o[n].isTulip?"<url><loc>https://flowervalley.ru/tulips</loc></url>":"<url><loc>https://flowervalley.ru/"+(0,J.slugify)(o[n].name)+"</loc></url>");this.http.post("https://flowervalley.ru/back/seo_api.php",{sitemap:'<?xml version="1.0" encoding="UTF-8"?>\n<urlset xmlns="http://www.sitemaps.org/schemas/sitemap/0.9">\n<url><loc>https://flowervalley.ru/catalog</loc></url>\n'+this.listUsers.join("\n")+"</url>\n<url><loc>https://flowervalley.ru/contacts</loc></url>\n</urlset>\n"}).subscribe(n=>{console.log(n),this.str5="\u041a\u0430\u0440\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0430"})})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(S.eN))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-seo"]],decls:88,vars:10,consts:[["color","green"],[3,"formGroup","ngSubmit"],["type","text","size","50","name","url","placeholder","\u0421\u0441\u044b\u043b\u043a\u0430","formControlName","url"],["type","text","size","50","name","tit","placeholder","Titles","formControlName","tit"],["type","text","size","50","name","keyw","placeholder","Keywords","formControlName","keyw"],["type","text","size","50","name","desc","placeholder","Description","formControlName","desc"],["type","submit","value","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"],["type","text","size","50","name","urlh","placeholder","\u0421\u0441\u044b\u043b\u043a\u0430","formControlName","urlh"],["type","text","size","50","name","h1","placeholder","H1","formControlName","h1"],["rows","7","cols","70","name","tulp","formControlName","tulp"],["rows","7","cols","70","name","rass","formControlName","rass"],["rows","7","cols","70","name","robo","formControlName","robo"],["href","/sitemap.xml"],["type","submit","value","\u0421\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c"]],template:function(e,o){1&e&&(t.TgZ(0,"h2"),t._uU(1,"\u041c\u0435\u0442\u0430\u0442\u044d\u0433\u0438"),t.qZA(),t.TgZ(2,"font",0),t._uU(3),t.qZA(),t._UZ(4,"br")(5,"br"),t.TgZ(6,"form",1),t.NdJ("ngSubmit",function(){return o.saveOthers(o.variablesForm.value)}),t._UZ(7,"input",2)(8,"br")(9,"br")(10,"input",3)(11,"br")(12,"br")(13,"input",4)(14,"br")(15,"br")(16,"input",5)(17,"br")(18,"br")(19,"input",6),t.qZA(),t._UZ(20,"br")(21,"br"),t.TgZ(22,"h2"),t._uU(23,"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043a\u0438 H1"),t.qZA(),t.TgZ(24,"font",0),t._uU(25),t.qZA(),t._UZ(26,"br")(27,"br"),t.TgZ(28,"form",1),t.NdJ("ngSubmit",function(){return o.saveh1(o.h1Form.value)}),t._UZ(29,"input",7)(30,"br")(31,"br")(32,"input",8)(33,"br")(34,"br")(35,"br")(36,"br")(37,"input",6),t.qZA(),t._UZ(38,"br")(39,"br"),t.TgZ(40,"h2"),t._uU(41,"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043a\u043e\u043d\u0442\u0435\u043d\u0442"),t.qZA(),t.TgZ(42,"font",0),t._uU(43),t.qZA(),t._UZ(44,"br")(45,"br"),t.TgZ(46,"form",1),t.NdJ("ngSubmit",function(){return o.savecont(o.contForm.value)}),t.TgZ(47,"div"),t._uU(48,"\u0422\u044e\u043b\u044c\u043f\u0430\u043d\u044b \u043e\u043f\u0442\u043e\u043c:"),t.qZA(),t._UZ(49,"textarea",9)(50,"br")(51,"br"),t.TgZ(52,"div"),t._uU(53,"\u0420\u0430\u0441\u0441\u0430\u0434\u044b \u0446\u0432\u0435\u0442\u043e\u0432:"),t.qZA(),t._UZ(54,"textarea",10)(55,"br")(56,"br")(57,"input",6),t.qZA(),t._UZ(58,"br")(59,"br"),t.TgZ(60,"h2"),t._uU(61,"\u0424\u0430\u0439\u043b robots.txt"),t.qZA(),t.TgZ(62,"font",0),t._uU(63),t.qZA(),t._UZ(64,"br")(65,"br"),t.TgZ(66,"form",1),t.NdJ("ngSubmit",function(){return o.saverobo(o.roboForm.value)}),t.TgZ(67,"div"),t._uU(68,"\u0422\u0435\u043b\u043e \u0444\u0430\u0439\u043b\u0430:"),t.qZA(),t._UZ(69,"textarea",11)(70,"br")(71,"br")(72,"input",6),t.qZA(),t._UZ(73,"br")(74,"br"),t.TgZ(75,"h2"),t._uU(76,"\u041a\u0430\u0440\u0442\u0430 \u0441\u0430\u0439\u0442\u0430"),t.qZA(),t.TgZ(77,"font",0),t._uU(78),t.qZA(),t._UZ(79,"br")(80,"br"),t.TgZ(81,"form",1),t.NdJ("ngSubmit",function(){return o.savemap(o.mapForm.value)}),t._uU(82," \u0421\u0441\u044b\u043b\u043a\u0430 - "),t.TgZ(83,"a",12),t._uU(84,"sitemap.xml"),t.qZA(),t._UZ(85,"br")(86,"br")(87,"input",13),t.qZA()),2&e&&(t.xp6(3),t.Oqu(o.str),t.xp6(3),t.Q6J("formGroup",o.variablesForm),t.xp6(19),t.Oqu(o.str2),t.xp6(3),t.Q6J("formGroup",o.h1Form),t.xp6(15),t.Oqu(o.str3),t.xp6(3),t.Q6J("formGroup",o.contForm),t.xp6(17),t.Oqu(o.str4),t.xp6(3),t.Q6J("formGroup",o.roboForm),t.xp6(12),t.Oqu(o.str5),t.xp6(3),t.Q6J("formGroup",o.mapForm))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u],styles:["[_nghost-%COMP%]{width:100%}"]}),u})()},{path:"branch",component:(()=>{class u{constructor(e,o){this.http=e,this.fb=o,this.contArray=[],this.videos=[],this.fileName="",this.vidForm=this.fb.group({v_id:[""]}),this.strImg="",this.strImg2="",this.strImg3="",this.strImg4="",this.strImg5="",this.strImg6="",this.strImg7="",this.strImg8="",this.strImg9="",this.strImg10="",this.strImg11="",this.vprog="",this.iprog="",this.str="",this.blockForm=new r.cw({blc1:new r.NI,blc2:new r.NI,blc3:new r.NI})}updateVidSort(e,o,n){console.log("tima: / "+e+" / "+o),this.http.post("https://flowervalley.ru/back/branch_api.php",{video_id:e,video_sort:o,type:n}).subscribe(i=>{console.log(i)})}updateVidTitl(e,o,n){this.http.post("https://flowervalley.ru/back/branch_api.php",{video_id:e,video_titl:o,type:n}).subscribe(i=>{console.log(i)})}deleteVid(e,o,n){this.http.post("https://flowervalley.ru/back/branch_api.php",{video_delete:o,type:n}).subscribe(i=>{"bra_cont"==n?this.contArray.splice(e,1):this.videos.splice(e,1),console.log(i)})}saveVidInfo(){console.log(this.vidForm.value)}onFileSelected(e,o){const n=e.target.files[0];if(n){"video"==o&&(this.vprog="\u0438\u0434\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0432\u0438\u0434\u0435\u043e.."),"image"==o&&(this.iprog="\u0438\u0434\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0449\u0435\u043d\u0438\u0435 \u0444\u043e\u0442\u043e.."),this.fileName=n.name;const i=new FormData;i.append("thumbnail",n),this.http.post("https://flowervalley.ru/back/branch_api.php?type="+o,i).subscribe(a=>{a.res&&(this.vprog="",this.iprog=""),console.log(a.res)})}}ngOnInit(){this.http.get("https://flowervalley.ru/back/branch_api.php?cont=bra_cont_vid").subscribe(e=>{for(let o=0;o<e.length;o++)this.videos.push({id:e[o].id,src:"https://flowervalley.ru/back/Uploads/"+e[o].img,title:e[o].text,description:"",sortOrder:e[o].sort})},e=>{console.log("err")}),this.http.get("https://flowervalley.ru/back/branch_api.php?cont=bra_cont").subscribe(e=>{for(let o=0;o<e.length;o++)this.contArray.push({name:e[o].img,img:"https://flowervalley.ru/back/Uploads/"+e[o].img,txt:e[o].text,mediaType:e[o].mediaType,photosWidth:"240",id:e[o].id,sortOrder:e[o].sort})},e=>{console.log("err")}),this.http.get("https://flowervalley.ru/back/branch_api.php?blocks=1").subscribe(e=>{var o,n,i;null===(o=this.blockForm.get("blc1"))||void 0===o||o.setValue(e[0].blc1),null===(n=this.blockForm.get("blc2"))||void 0===n||n.setValue(e[0].blc2),null===(i=this.blockForm.get("blc3"))||void 0===i||i.setValue(e[0].blc3)})}saveBlock1(e){this.http.post("https://flowervalley.ru/back/branch_api.php",{blc1:e.blc1,blc2:e.blc2,blc3:e.blc3}).subscribe(o=>{console.log(o),this.str="\u0414\u0430\u043d\u043d\u044b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b"})}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(S.eN),t.Y36(r.qu))},u.\u0275cmp=t.Xpm({type:u,selectors:[["flower-valley-branch"]],decls:44,vars:6,consts:[["color","green"],[3,"formGroup","ngSubmit"],["rows","7","cols","70","name","blc1","formControlName","blc1"],["rows","7","cols","70","name","blc2","formControlName","blc2"],["rows","7","cols","70","name","blc3","formControlName","blc3"],["type","submit","value","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"],["type","file",1,"file-input",3,"change"],[4,"ngFor","ngForOf"],["size","5",3,"ngModel","ngModelOptions","ngModelChange","blur"],["height","60","border","0",3,"src"],[3,"click"],["color","red"],[3,"ngModel","ngModelOptions","ngModelChange","blur"],["height","100","controls",""],["type","video/mp4",3,"src"]],template:function(e,o){1&e&&(t.TgZ(0,"h2"),t._uU(1,"\u0422\u0435\u043a\u0441\u0442\u043e\u0432\u044b\u0439 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b"),t.qZA(),t.TgZ(2,"font",0),t._uU(3),t.qZA(),t._UZ(4,"br")(5,"br"),t.TgZ(6,"form",1),t.NdJ("ngSubmit",function(){return o.saveBlock1(o.blockForm.value)}),t.TgZ(7,"div"),t._uU(8,"\u0411\u043b\u043e\u043a 1:"),t.qZA(),t._UZ(9,"textarea",2)(10,"br"),t.TgZ(11,"div"),t._uU(12,"\u0411\u043b\u043e\u043a 2:"),t.qZA(),t._UZ(13,"textarea",3)(14,"br"),t.TgZ(15,"div"),t._uU(16,"\u0411\u043b\u043e\u043a 3:"),t.qZA(),t._UZ(17,"textarea",4)(18,"br")(19,"br")(20,"input",5),t.qZA(),t._UZ(21,"br")(22,"br"),t.TgZ(23,"h1"),t._uU(24,"\u0424\u043e\u0442\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"),t.qZA(),t.TgZ(25,"font",0),t._uU(26),t.qZA(),t.TgZ(27,"div"),t._uU(28,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"),t.qZA(),t.TgZ(29,"input",6),t.NdJ("change",function(i){return o.onFileSelected(i,"image")}),t.qZA(),t._UZ(30,"br")(31,"br"),t.YNc(32,oe,16,5,"div",7),t.TgZ(33,"h1"),t._uU(34,"\u0412\u0438\u0434\u0435\u043e\u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b"),t.qZA(),t.TgZ(35,"font",0),t._uU(36),t.qZA(),t.TgZ(37,"div"),t._uU(38,"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e"),t.qZA(),t.TgZ(39,"input",6),t.NdJ("change",function(i){return o.onFileSelected(i,"video")}),t.qZA(),t._UZ(40,"br")(41,"br"),t.TgZ(42,"form"),t.YNc(43,ne,20,7,"div",7),t.qZA()),2&e&&(t.xp6(3),t.Oqu(o.str),t.xp6(3),t.Q6J("formGroup",o.blockForm),t.xp6(20),t.Oqu(o.iprog),t.xp6(6),t.Q6J("ngForOf",o.contArray),t.xp6(4),t.Oqu(o.vprog),t.xp6(7),t.Q6J("ngForOf",o.videos))},directives:[r._Y,r.JL,r.sg,r.Fj,r.JJ,r.u,c.sg,r.On,r.F],styles:["[_nghost-%COMP%]{width:100%}"]}),u})()},{path:"mails",component:te}]}];let ie=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[[Z.Bz.forChild(ue)],Z.Bz]}),u})();var re=l(4466),B=l(5730);const se=["input"];function ae(u,s){if(1&u){const e=t.EpF();t.TgZ(0,"i",3),t.NdJ("click",function(){return t.CHM(e),t.oxw().clear()}),t.qZA()}}const le={provide:r.JU,useExisting:(0,t.Gpc)(()=>pe),multi:!0};let pe=(()=>{class u{constructor(e,o){this.el=e,this.cd=o,this.type="text",this.slotChar="_",this.autoClear=!0,this.showClear=!1,this.characterPattern="[A-Za-z]",this.onComplete=new t.vpe,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.onInput=new t.vpe,this.onKeydown=new t.vpe,this.onClear=new t.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){let e=B.p.getUserAgent();this.androidChrome=/chrome/i.test(e)&&/android/i.test(e),this.initMask()}get mask(){return this._mask}set mask(e){this._mask=e,this.initMask(),this.writeValue(""),this.onModelChange(this.value)}initMask(){this.tests=[],this.partialPosition=this.mask.length,this.len=this.mask.length,this.firstNonMaskPos=null,this.defs={9:"[0-9]",a:this.characterPattern,"*":`${this.characterPattern}|[0-9]`};let e=this.mask.split("");for(let o=0;o<e.length;o++){let n=e[o];"?"==n?(this.len--,this.partialPosition=o):this.defs[n]?(this.tests.push(new RegExp(this.defs[n])),null===this.firstNonMaskPos&&(this.firstNonMaskPos=this.tests.length-1),o<this.partialPosition&&(this.lastRequiredNonMaskPos=this.tests.length-1)):this.tests.push(null)}this.buffer=[];for(let o=0;o<e.length;o++){let n=e[o];"?"!=n&&this.buffer.push(this.defs[n]?this.getPlaceholder(o):n)}this.defaultBuffer=this.buffer.join("")}writeValue(e){this.value=e,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.value=null==this.value||null==this.value?"":this.value,this.checkVal(),this.focusText=this.inputViewChild.nativeElement.value,this.updateFilledState())}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}caret(e,o){let n,i,a;if(this.inputViewChild.nativeElement.offsetParent&&this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement){if("number"!=typeof e)return this.inputViewChild.nativeElement.setSelectionRange?(i=this.inputViewChild.nativeElement.selectionStart,a=this.inputViewChild.nativeElement.selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),i=0-n.duplicate().moveStart("character",-1e5),a=i+n.text.length),{begin:i,end:a};i=e,a="number"==typeof o?o:i,this.inputViewChild.nativeElement.setSelectionRange?this.inputViewChild.nativeElement.setSelectionRange(i,a):this.inputViewChild.nativeElement.createTextRange&&(n=this.inputViewChild.nativeElement.createTextRange(),n.collapse(!0),n.moveEnd("character",a),n.moveStart("character",i),n.select())}}isCompleted(){for(let o=this.firstNonMaskPos;o<=this.lastRequiredNonMaskPos;o++)if(this.tests[o]&&this.buffer[o]===this.getPlaceholder(o))return!1;return!0}getPlaceholder(e){return this.slotChar.charAt(e<this.slotChar.length?e:0)}seekNext(e){for(;++e<this.len&&!this.tests[e];);return e}seekPrev(e){for(;--e>=0&&!this.tests[e];);return e}shiftL(e,o){let n,i;if(!(e<0)){for(n=e,i=this.seekNext(o);n<this.len;n++)if(this.tests[n]){if(!(i<this.len&&this.tests[n].test(this.buffer[i])))break;this.buffer[n]=this.buffer[i],this.buffer[i]=this.getPlaceholder(i),i=this.seekNext(i)}this.writeBuffer(),this.caret(Math.max(this.firstNonMaskPos,e))}}shiftR(e){let o,n,i,a;for(o=e,n=this.getPlaceholder(e);o<this.len;o++)if(this.tests[o]){if(i=this.seekNext(o),a=this.buffer[o],this.buffer[o]=n,!(i<this.len&&this.tests[i].test(a)))break;n=a}}handleAndroidInput(e){var o=this.inputViewChild.nativeElement.value,n=this.caret();if(this.oldVal&&this.oldVal.length&&this.oldVal.length>o.length){for(this.checkVal(!0);n.begin>0&&!this.tests[n.begin-1];)n.begin--;if(0===n.begin)for(;n.begin<this.firstNonMaskPos&&!this.tests[n.begin];)n.begin++;setTimeout(()=>{this.caret(n.begin,n.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}else{for(this.checkVal(!0);n.begin<this.len&&!this.tests[n.begin];)n.begin++;setTimeout(()=>{this.caret(n.begin,n.begin),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}}onInputBlur(e){if(this.focused=!1,this.onModelTouched(),this.checkVal(),this.updateFilledState(),this.onBlur.emit(e),this.inputViewChild.nativeElement.value!=this.focusText||this.inputViewChild.nativeElement.value!=this.value){this.updateModel(e);let o=document.createEvent("HTMLEvents");o.initEvent("change",!0,!1),this.inputViewChild.nativeElement.dispatchEvent(o)}}onInputKeydown(e){if(this.readonly)return;let n,i,a,o=e.which||e.keyCode,p=/iphone/i.test(B.p.getUserAgent());this.oldVal=this.inputViewChild.nativeElement.value,this.onKeydown.emit(e),8===o||46===o||p&&127===o?(n=this.caret(),i=n.begin,a=n.end,a-i==0&&(i=46!==o?this.seekPrev(i):a=this.seekNext(i-1),a=46===o?this.seekNext(a):a),this.clearBuffer(i,a),this.shiftL(i,a-1),this.updateModel(e),this.onInput.emit(e),e.preventDefault()):13===o?(this.onInputBlur(e),this.updateModel(e)):27===o&&(this.inputViewChild.nativeElement.value=this.focusText,this.caret(0,this.checkVal()),this.updateModel(e),e.preventDefault())}onKeyPress(e){if(!this.readonly){var i,a,p,_,o=e.which||e.keyCode,n=this.caret();e.ctrlKey||e.altKey||e.metaKey||o<32||o>34&&o<41||(o&&13!==o&&(n.end-n.begin!=0&&(this.clearBuffer(n.begin,n.end),this.shiftL(n.begin,n.end-1)),(i=this.seekNext(n.begin-1))<this.len&&(a=String.fromCharCode(o),this.tests[i].test(a)&&(this.shiftR(i),this.buffer[i]=a,this.writeBuffer(),p=this.seekNext(i),/android/i.test(B.p.getUserAgent())?setTimeout(()=>{this.caret(p)},0):this.caret(p),n.begin<=this.lastRequiredNonMaskPos&&(_=this.isCompleted()),this.onInput.emit(e))),e.preventDefault()),this.updateModel(e),this.updateFilledState(),_&&this.onComplete.emit())}}clearBuffer(e,o){let n;for(n=e;n<o&&n<this.len;n++)this.tests[n]&&(this.buffer[n]=this.getPlaceholder(n))}writeBuffer(){this.inputViewChild.nativeElement.value=this.buffer.join("")}checkVal(e){let i,a,p,o=this.inputViewChild.nativeElement.value,n=-1;for(i=0,p=0;i<this.len;i++)if(this.tests[i]){for(this.buffer[i]=this.getPlaceholder(i);p++<o.length;)if(a=o.charAt(p-1),this.tests[i].test(a)){this.buffer[i]=a,n=i;break}if(p>o.length){this.clearBuffer(i+1,this.len);break}}else this.buffer[i]===o.charAt(p)&&p++,i<this.partialPosition&&(n=i);return e?this.writeBuffer():n+1<this.partialPosition?this.autoClear||this.buffer.join("")===this.defaultBuffer?(this.inputViewChild.nativeElement.value&&(this.inputViewChild.nativeElement.value=""),this.clearBuffer(0,this.len)):this.writeBuffer():(this.writeBuffer(),this.inputViewChild.nativeElement.value=this.inputViewChild.nativeElement.value.substring(0,n+1)),this.partialPosition?i:this.firstNonMaskPos}onInputFocus(e){if(this.readonly)return;let o;this.focused=!0,clearTimeout(this.caretTimeoutId),this.focusText=this.inputViewChild.nativeElement.value,o=this.checkVal(),this.caretTimeoutId=setTimeout(()=>{this.inputViewChild.nativeElement===this.inputViewChild.nativeElement.ownerDocument.activeElement&&(this.writeBuffer(),o==this.mask.replace("?","").length?this.caret(0,o):this.caret(o))},10),this.onFocus.emit(e)}onInputChange(e){this.androidChrome?this.handleAndroidInput(e):this.handleInputChange(e),this.onInput.emit(e)}handleInputChange(e){this.readonly||setTimeout(()=>{var o=this.checkVal(!0);this.caret(o),this.updateModel(e),this.isCompleted()&&this.onComplete.emit()},0)}getUnmaskedValue(){let e=[];for(let o=0;o<this.buffer.length;o++){let n=this.buffer[o];this.tests[o]&&n!=this.getPlaceholder(o)&&e.push(n)}return e.join("")}updateModel(e){const o=this.unmask?this.getUnmaskedValue():e.target.value;(null!==o||void 0!==o)&&(this.value=o,this.onModelChange(this.value))}updateFilledState(){this.filled=this.inputViewChild.nativeElement&&""!=this.inputViewChild.nativeElement.value}focus(){this.inputViewChild.nativeElement.focus()}clear(){this.inputViewChild.nativeElement.value="",this.value=null,this.onModelChange(this.value),this.onClear.emit()}}return u.\u0275fac=function(e){return new(e||u)(t.Y36(t.SBq),t.Y36(t.sBO))},u.\u0275cmp=t.Xpm({type:u,selectors:[["p-inputMask"]],viewQuery:function(e,o){if(1&e&&t.Gf(se,7),2&e){let n;t.iGM(n=t.CRH())&&(o.inputViewChild=n.first)}},hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(e,o){2&e&&t.ekj("p-inputwrapper-filled",o.filled)("p-inputwrapper-focus",o.focused)("p-inputmask-clearable",o.showClear&&!o.disabled)},inputs:{type:"type",slotChar:"slotChar",autoClear:"autoClear",showClear:"showClear",style:"style",inputId:"inputId",styleClass:"styleClass",placeholder:"placeholder",size:"size",maxlength:"maxlength",tabindex:"tabindex",title:"title",ariaLabel:"ariaLabel",ariaRequired:"ariaRequired",disabled:"disabled",readonly:"readonly",unmask:"unmask",name:"name",required:"required",characterPattern:"characterPattern",autoFocus:"autoFocus",autocomplete:"autocomplete",mask:"mask"},outputs:{onComplete:"onComplete",onFocus:"onFocus",onBlur:"onBlur",onInput:"onInput",onKeydown:"onKeydown",onClear:"onClear"},features:[t._Bn([le])],decls:3,vars:18,consts:[["pInputText","",1,"p-inputmask",3,"ngStyle","ngClass","disabled","readonly","focus","blur","keydown","keypress","input","paste"],["input",""],["class","p-inputmask-clear-icon pi pi-times",3,"click",4,"ngIf"],[1,"p-inputmask-clear-icon","pi","pi-times",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"input",0,1),t.NdJ("focus",function(i){return o.onInputFocus(i)})("blur",function(i){return o.onInputBlur(i)})("keydown",function(i){return o.onInputKeydown(i)})("keypress",function(i){return o.onKeyPress(i)})("input",function(i){return o.onInputChange(i)})("paste",function(i){return o.handleInputChange(i)}),t.qZA(),t.YNc(2,ae,1,0,"i",2)),2&e&&(t.Q6J("ngStyle",o.style)("ngClass",o.styleClass)("disabled",o.disabled)("readonly",o.readonly),t.uIk("id",o.inputId)("type",o.type)("name",o.name)("placeholder",o.placeholder)("title",o.title)("size",o.size)("autocomplete",o.autocomplete)("maxlength",o.maxlength)("tabindex",o.tabindex)("aria-label",o.ariaLabel)("aria-required",o.ariaRequired)("required",o.required)("autofocus",o.autoFocus),t.xp6(2),t.Q6J("ngIf",null!=o.value&&o.filled&&o.showClear&&!o.disabled))},directives:[d.o,c.PC,c.mk,c.O5],styles:[".p-inputmask-clear-icon{position:absolute;top:50%;margin-top:-.5rem;cursor:pointer}.p-inputmask-clearable{position:relative}\n"],encapsulation:2,changeDetection:0}),u})(),ce=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[[c.ez,d.j]]}),u})();var me=l(3032),de=l(8904),he=l(2993);let _e=(()=>{class u{}return u.\u0275fac=function(e){return new(e||u)},u.\u0275mod=t.oAB({type:u}),u.\u0275inj=t.cJS({imports:[[c.ez,ie,re.f,g.$9,N.d,r.UX,h.hJ,d.j,E.Z_,A.$,k.A,he.L,ce,me.MainPageModule,de.CatalogModule,T.U$,r.u5,D.WN]]}),u})()}}]);